(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{379:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),s=n(19),o=n.n(s),i=n(10),u=n(28),l=n(33),d=n(54),j=n(435),b=n(463),p=n(472),h=n(467),f=n(30),m=n(38),O=n(200),x=(n(197),function(){var e=m.Chart.controllers.doughnut.prototype.draw;m.Chart.helpers.extend(m.Chart.controllers.doughnut.prototype,{draw:function(){if(e.apply(this,arguments),this.chart.config.options.elements.center){var t=this.chart.chart,n=this.chart.config.options.elements.center,a=n.text,r=n.color,c=t.ctx,s=t.width,o=t.height,i=(o/114).toFixed(2);c.font=i+"em Verdana",c.textBaseline="middle",c.fillStyle=r;var u=Math.round((s-c.measureText(a).width)/2),l=o/2;c.fillText(a,u,l)}}})}),g=n(89),v=Object(g.a)({widget:{primary:{main:"#729ece"},secondary:{main:"#ff9e4a"},tertiary:{main:"#67bf5c"}}}),w=n(136),y=n(8),k=n.n(y),C=n(13),N=n(7),I=n(34),q=n(441),S=n(106),A=n(391),G=n(40),L=n(204),T=n.n(L),R=n(205),E=n.n(R),B=n(87),W=function(e){return Object(a.jsx)(B.a,{component:"h2",variant:"h6",style:{color:e.color,textAlign:"center"},gutterBottom:!0,children:e.children})},M=n(47),z=n.n(M),D=n(46),_=n(11),V=n(203),F=n.n(V),Q=new function e(){var t=this;Object(D.a)(this,e),this.error=null,this.success=null,this.setError=function(e){t.error=e,setTimeout((function(){t.error=null}),4e3)},this.setSuccess=function(e){t.success=e,setTimeout((function(){t.success=null}),4e3)},this.login=function(){var e=Object(C.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.login(t,n);case 2:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.logout=function(){F.a.remove("token")},Object(_.f)(this,{error:_.g,success:_.g,login:_.b,logout:_.b,setError:_.b})},H=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),Q.setError("Er is iets mis gegaan: ".concat((null===(a=e.t0.response.body)||void 0===a?void 0:a.message)||(null===(r=e.t0.response.body)||void 0===r?void 0:r.error)||e.t0.response.error||"server error")),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/students").query(t),e.next=3,H(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/classes/".concat(t)),e.next=3,H(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/courses").query(t),e.next=3,H(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(C.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=z.a.get("/api/v1/classes"),e.next=3,H(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/lessonAttempts").query({lessonId:t}),e.next=3,H(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/questionAttempts/".concat(t)),e.next=3,H(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/lessons/".concat(t)),e.next=3,H(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(C.a)(k.a.mark((function e(t,n){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=z.a.post("/api/v1/auth/login").send({email:t,password:n}),e.next=3,H(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/students/".concat(t)),e.next=3,H(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.studentId,a=t.lessonId,r=z.a.get("/api/v1/questionAttempts").query({studentId:n,lessonId:a}),e.next=4,H(r);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.questionGroupId,a=t.pageSize,r=z.a.get("/api/v1/questionGroupAttempts").query({questionGroupId:n,pageSize:a}),e.next=4,H(r);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/questionGroup/".concat(t)),e.next=3,H(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(C.a)(k.a.mark((function e(t,n){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=z.a.patch("/api/v1/question/".concat(t)).send({data:n}),e.next=3,H(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce={loadStudents:P,loadStudent:ee,loadClass:$,loadCourses:K,loadClasses:J,loadLessonAttempts:U,loadQuestionAttempts:te,loadQuestionAttemptsID:Y,loadLesson:X,login:Z,loadQuestionGroupAttempts:ne,loadQuestionGroup:ae,updateQuestion:re},se=ce,oe=n(440),ie=Object(d.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}})),ue=function(e){var t=e.children,n=ie();return Object(a.jsx)(oe.a,{maxWidth:"lg",className:n.container,children:t})},le=[{field:"updatedAt",headerName:"Datum",flex:.2,renderCell:function(e){return t=e.row.updatedAt,"".concat(t.substring(0,10)," ").concat(t.substring(11,19));var t}},{field:"student",headerName:"Leerling",flex:.2,valueGetter:function(e){return e.row.lessonAttempts.student.name}},{field:"lesson",headerName:"Les",flex:.2,valueGetter:function(e){return e.row.QuestionGroup.questionGroups.prefix}},{field:"question",headerName:"Vraag",flex:.2,valueGetter:function(e){return e.row.QuestionGroup.index+1}},{field:"isCompleted",headerName:"Voltooid",flex:.2,renderCell:function(e){return e.row.isCompleted?Object(a.jsx)(T.a,{}):Object(a.jsx)(E.a,{})}}],de=Object(d.a)((function(e){return{datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),je=function(e){var t=de(),n=Object(l.g)(),c=Object(r.useState)([]),s=Object(N.a)(c,2),o=s[0],i=s[1],u=Object(r.useState)(!1),d=Object(N.a)(u,2),j=d[0],b=d[1],p=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,se.loadQuestionGroupAttempts({pageSize:10});case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:i(t.body.data),b(!1);case 8:case"end":return e.stop()}}),e)}))),[]);if(Object(r.useEffect)((function(){return p(),function(){i([])}}),[p]),j)return Object(a.jsx)(A.a,{});return Object(a.jsxs)(ue,{children:[Object(a.jsx)(W,{children:"Recente leerlingen activiteit"}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(G.a,{className:t.datagrid,autoHeight:!0,rows:o,columns:le,pageSize:5,onRowClick:function(e){return n.push("/dashboard/students/".concat(e.row.lessonAttempts.student.id))}})})]})},be=n(442),pe=n(444),he=n(443),fe=Object(d.a)((function(e){return{widget:{height:150,padding:e.spacing(3),color:"white",display:"flex",flexDirection:"column",justifyContent:"center"},widgetLeft:{textAlign:"right",fontWeight:400},widgetRight:{textAlign:"left",fontWeight:100}}})),me=function(e){var t=fe();return Object(a.jsx)(q.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(be.a,{style:{backgroundColor:e.color},children:Object(a.jsx)(he.a,{onClick:e.onClick,children:Object(a.jsx)(pe.a,{children:Object(a.jsxs)(q.a,{container:!0,spacing:3,className:t.widget,children:[Object(a.jsx)(q.a,{item:!0,xs:6,children:Object(a.jsx)(B.a,{variant:"h2",className:t.widgetLeft,children:e.left})}),Object(a.jsx)(q.a,{item:!0,xs:6,children:Object(a.jsx)(B.a,{variant:"h5",className:t.widgetRight,children:e.right})})]})})})})})},Oe=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),xe=function(e){var t=Oe(),n=Object(I.a)(),r=e.title,c=e.data,s=e.options;return Object(a.jsx)(q.a,{item:!0,xs:12,md:4,children:Object(a.jsxs)(S.a,{className:t.paper,children:[Object(a.jsx)(W,{color:n.widget.primary.main,children:r}),Object(a.jsx)(m.Doughnut,{data:c,options:s})]})})},ge=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),ve=function(e){var t=Object(I.a)(),n=ge(),c=Object(l.g)(),s=Object(r.useState)([]),o=Object(N.a)(s,2)[1],i=Object(r.useState)(!1),u=Object(N.a)(i,2),d=u[0],j=u[1],b=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,se.loadClasses();case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:o(t.body.data),j(!1);case 8:case"end":return e.stop()}}),e)}))),[]);if(Object(r.useEffect)((function(){b()}),[b]),d)return Object(a.jsx)(A.a,{});var p=function(e){var t=e.color,n=e.variant;return{datasets:[{data:[100-25*n,25*n],backgroundColor:["rgb(0, 0, 0, 0)",t]}]}},h=function(e){var t=e.color;return{cutoutPercentage:75,tooltips:{enabled:!1},hover:{mode:null},responsive:!0,elements:{center:{text:e.text,color:t||"#FFFFFF"}}}};return Object(a.jsx)(ue,{children:Object(a.jsxs)(q.a,{container:!0,spacing:3,children:[Object(a.jsx)(me,{left:6,right:"lessen",color:t.widget.primary.main,onClick:function(){return c.push("/dashboard/lessons")}}),Object(a.jsx)(me,{left:206,right:"leerlingen",color:t.widget.secondary.main,onClick:function(){return c.push("/dashboard/students")}}),Object(a.jsx)(me,{left:25,right:"na te kijken opdrachten",color:t.widget.tertiary.main,onClick:function(){return c.push("/dashboard/tasks")}}),Object(a.jsx)(xe,{title:"Gemiddelde correctheid",data:p({color:t.widget.primary.main,variant:1}),options:h({color:t.widget.primary.main,text:"25%"})}),Object(a.jsx)(xe,{title:"Gemiddelde voortgang",data:p({color:t.widget.secondary.main,variant:2}),options:h({color:t.widget.secondary.main,text:"50%"})}),Object(a.jsx)(xe,{title:"Opdrachten nagekeken",data:p({color:t.widget.tertiary.main,variant:3}),options:h({color:t.widget.tertiary.main,text:"75%"})}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(S.a,{className:n.paper,children:Object(a.jsx)(je,{})})})]})})},we=n(473),ye=n(445),ke=n.p+"static/media/bartVis.cee2b69e.png",Ce=Object(d.a)((function(e){return{avatar:{width:e.spacing(24),height:e.spacing(24)},email:{color:"blue",fontWeight:"bold"}}})),Ne=function(e){var t=Ce();return Object(a.jsxs)(q.a,{container:!0,children:[Object(a.jsx)(q.a,{item:!0,xs:12,lg:3,children:Object(a.jsx)(we.a,{src:ke,className:t.avatar})}),Object(a.jsxs)(q.a,{item:!0,xs:12,lg:9,children:[Object(a.jsx)(B.a,{variant:"h3",children:"Bert Vis"}),Object(a.jsx)(ye.a,{href:"mailto:".concat("b.vis@outlook.com"),onClick:function(e){return e.preventDefault()},children:Object(a.jsx)(B.a,{className:t.email,style:{display:"inline-block",marginRight:8},children:"b.vis@outlook.com"})}),Object(a.jsx)(B.a,{style:{display:"inline-block"},children:"- Docent"})]})]})},Ie=n(446),qe=n(233),Se=Object(d.a)((function(e){return{root:{padding:e.spacing(4,4,0,4)},divider:{marginTop:e.spacing(4),marginBottom:e.spacing(4)},account:{margin:e.spacing(4)},label:{height:"100%",display:"flex",alignItems:"center"},header:{fontWeight:"bold"}}})),Ae=function(e){var t=Se();return Object(a.jsx)(q.a,{container:!0,children:Object(a.jsxs)(q.a,{item:!0,xs:12,className:t.divider,children:[Object(a.jsx)(B.a,{variant:"h5",className:t.header,children:"Account Informatie"}),Object(a.jsx)(Ie.a,{}),Object(a.jsxs)(q.a,{container:!0,className:t.account,children:[Object(a.jsx)(q.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(B.a,{className:t.label,children:"Gebruikersnaam"})}),Object(a.jsx)(q.a,{item:!0,xs:12,md:9,children:Object(a.jsx)(qe.a,{disabled:!0,value:"bertvis1971",className:t.fullWidth})})]}),Object(a.jsxs)(q.a,{container:!0,className:t.account,children:[Object(a.jsx)(q.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(B.a,{className:t.label,children:"E-mailadres"})}),Object(a.jsx)(q.a,{item:!0,xs:12,md:9,children:Object(a.jsx)(qe.a,{disabled:!0,value:"b.vis@outlook.com",className:t.fullWidth})})]}),Object(a.jsxs)(q.a,{container:!0,className:t.account,children:[Object(a.jsx)(q.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(B.a,{className:t.label,children:"Wachtwoord"})}),Object(a.jsx)(q.a,{item:!0,xs:12,md:9,children:Object(a.jsx)(qe.a,{disabled:!0,type:"password",value:"superuser",className:t.fullWidth})})]})]})})},Ge=Object(d.a)((function(e){return{root:{padding:e.spacing(4,4,0,4)}}})),Le=function(e){var t=Ge();return Object(a.jsx)(ue,{children:Object(a.jsxs)(S.a,{className:t.root,children:[Object(a.jsx)(Ne,{}),Object(a.jsx)(Ae,{})]})})},Te=n(452),Re=n(466),Ee=n(453),Be=n(207),We=n.n(Be),Me=n(208),ze=n.n(Me),De=n(93),_e=n.n(De),Ve=Object(d.a)((function(e){return{paperheader:{textAlign:"center",color:"white",borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:4,borderTopRightRadius:4},papercontent:{borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopLeftRadius:0,borderTopRightRadius:0}}})),Fe=function(e){var t=Ve();return Object(a.jsxs)(q.a,{item:!0,xs:12,md:6,children:[Object(a.jsx)(S.a,{className:t.paperheader,style:{backgroundColor:e.headercolor},children:Object(a.jsx)(B.a,{children:e.headertitle})}),Object(a.jsx)(S.a,{className:t.papercontent,children:e.children})]})},Qe=n(447),He=n(464),Pe=function(e){var t=Math.floor(255*(e<=50?e/50:(100-e)/50)),n=(e<=50?[255,t,0]:[t,255,0]).map((function(e){return Math.round(.8*e)}));return"rgb(".concat(n.join(","),")")},$e=Object(d.a)((function(e){return{root:{height:20,borderRadius:5,margin:e.spacing(1)},bar:function(e){return{borderRadius:5,backgroundColor:Pe(e.value)}},colorPrimary:{backgroundColor:"#DDDDDD"}}})),Ke=function(e){var t=$e(e);return Object(a.jsxs)(He.a,{children:[Object(a.jsx)(B.a,{children:e.title}),Object(a.jsxs)(He.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(He.a,{width:"100%",mr:1,children:Object(a.jsx)(Qe.a,Object(i.a)({variant:"determinate",classes:{root:t.root,colorPrimary:t.colorPrimary,bar:t.bar}},e))}),Object(a.jsx)(He.a,{minWidth:35,children:Object(a.jsx)(B.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})]})},Je=Object(d.a)((function(e){return{widget:{padding:e.spacing(3),marginBottom:e.spacing(12)},paper:{borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopLeftRadius:0,borderTopRightRadius:0,height:230,padding:e.spacing(3)}}})),Ue=[{field:"student",headerName:"Naam",flex:.65,valueGetter:function(e){return e.row.name}},{field:"correctness",headerName:"Gem. correctheid",flex:.5,valueGetter:function(e){return e.row.correctness}}],Ye=function(e){if(e&&e.length){var t=Object(N.a)(e,2),n=t[0],a=t[1],r=[];return n.forEach((function(e,t){r.push({id:a[t].id,name:a[t].name,correctness:e})})),r}return[]},Xe=function(e){var t=e.topResults,n=e.bottomResults,r=Je(),c=Object(I.a)();return Object(a.jsxs)(ue,{children:[Object(a.jsxs)(q.a,{container:!0,spacing:2,className:r.widget,children:[Object(a.jsx)(Fe,{headercolor:c.widget.primary.main,headertitle:"Onderste 25%",children:Object(a.jsx)(G.a,{autoHeight:!0,pageSize:5,pagination:!0,rows:Ye(n),columns:Ue,sortModel:[{field:"correctness",sort:"desc"}]})}),Object(a.jsx)(Fe,{headercolor:c.widget.primary.main,headertitle:"Top 25%",children:Object(a.jsx)(G.a,{autoHeight:!0,rows:Ye(t),pagination:!0,pageSize:5,sortModel:[{field:"correctness",sort:"desc"}],columns:Ue})})]}),Object(a.jsxs)(q.a,{container:!0,spacing:3,className:r.widget,children:[Object(a.jsx)(Fe,{headercolor:c.widget.secondary.main,headertitle:"Probleem categorie\xebn",children:Object(a.jsxs)(S.a,{className:r.paper,children:[Object(a.jsx)(Ke,{title:"1. Herken morfemen in woorden",value:38}),Object(a.jsx)(Ke,{title:"2. Herken morfemen in een zin",value:48}),Object(a.jsx)(Ke,{title:"3. Verwisselen morfemen",value:55})]})}),Object(a.jsx)(Fe,{headercolor:c.widget.secondary.main,headertitle:"Top categorie\xebn",children:Object(a.jsxs)(S.a,{className:r.paper,children:[Object(a.jsx)(Ke,{title:"1. Betekenis morfemen",value:97}),Object(a.jsx)(Ke,{title:"2. Splits morfemen",value:83}),Object(a.jsx)(Ke,{title:"3. Alternatieve betekenis morfemen",value:74})]})})]})]})},Ze=n(386),et=n(468),tt=n(387),nt=n(449),at=n(450),rt=n(78),ct=n(448),st=n(92),ot=n.n(st),it=Object(d.a)((function(e){return{}})),ut=function(e){var t=e.name,n=e.lessons,r=it(),c=Object(l.g)(),s=Object(l.h)(),o=function(e){return c.push("".concat(s.pathname,"/lessons/").concat(e,"/lesson_insights"))};return Object(a.jsx)(Ze.a,{subheader:Object(a.jsx)(ct.a,{component:"div",id:"nested-list-subheader",children:t}),children:n.map((function(e){return Object(a.jsxs)(tt.a,{component:"div",alignItems:"flex-start",button:!0,onClick:function(){return o(e.id)},children:[Object(a.jsx)(nt.a,{primary:"".concat(e.prefix," - ").concat(e.name),secondary:Object(a.jsx)(B.a,{component:"span",variant:"body2",className:r.inline,color:"textPrimary"})}),Object(a.jsx)(at.a,{children:Object(a.jsx)(rt.a,{edge:"end","aria-label":"comments",onClick:function(){return o(e.id)},children:Object(a.jsx)(ot.a,{})})})]},e.id)}))})},lt=Object(d.a)((function(e){return{marginBottom:{marginBottom:"1rem"},pagination:{margin:"1rem auto"}}})),dt=function(e){var t=e.courses,n=lt(),c=Object(r.useState)(null),s=Object(N.a)(c,2),o=s[0],u=s[1],l=Object(r.useState)(""),d=Object(N.a)(l,2),j=d[0],b=d[1],p=o?[o]:t;return Object(a.jsx)(q.a,{container:!0,spacing:2,children:Object(a.jsxs)(q.a,{item:!0,xs:12,children:[Object(a.jsx)(B.a,{variant:"h5",className:n.marginBottom,children:"Lessen"}),Object(a.jsx)(et.a,{value:o,onChange:function(e,t){u(t)},inputValue:j,onInputChange:function(e,t){b(t)},options:t,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(qe.a,Object(i.a)(Object(i.a)({},e),{},{label:"Les zoeken",variant:"outlined"}))}}),Object(a.jsx)(Ie.a,{style:{margin:"1rem 0"}}),Object(a.jsx)(S.a,{children:Object(a.jsx)(Ze.a,{className:n.root,children:p.map((function(e){return Object(a.jsx)(ut,Object(i.a)({},e),e.id)}))})})]})})},jt=n(390),bt=n(451),pt=n(206),ht=n.n(pt),ft=Object(d.a)((function(e){return{}})),mt=function(e){return e?Object(a.jsx)(ht.a,{style:{color:"orange"}}):null},Ot=function(e){var t=e.id,n=e.name,r=e.email,c=e.onClick,s=e.isBottom,o=ft();return Object(a.jsxs)(tt.a,{component:"div",alignItems:"flex-start",button:!0,style:{alignItems:"center"},onClick:c,children:[Object(a.jsx)(jt.a,{children:mt(s)})," ",Object(a.jsx)(bt.a,{children:Object(a.jsx)(we.a,{alt:"Travis Howard"})}),Object(a.jsx)(nt.a,{primary:n,secondary:Object(a.jsx)(B.a,{component:"span",variant:"body2",className:o.inline,color:"textPrimary",children:r||"geen email"})}),Object(a.jsx)(at.a,{children:Object(a.jsx)(rt.a,{edge:"end","aria-label":"comments",children:Object(a.jsx)(ot.a,{})})})]},t)},xt=n(465),gt=Object(d.a)((function(e){return{marginTop:{marginTop:"1rem"},marginBottom:{marginBottom:"1rem"}}})),vt=function(e){var t=e.students,n=gt(),c=Object(l.g)(),s=Object(r.useState)(0),o=Object(N.a)(s,2),u=o[0],d=o[1],j=Object(r.useState)(null),b=Object(N.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)(""),m=Object(N.a)(f,2),O=m[0],x=m[1],g=20*u,v=p?[p]:t.slice(g,g+20);return Object(a.jsx)(q.a,{container:!0,spacing:2,children:Object(a.jsxs)(q.a,{item:!0,xs:12,children:[Object(a.jsx)(B.a,{variant:"h5",className:n.marginBottom,children:"Leerlingen"}),Object(a.jsx)(et.a,{value:p,onChange:function(e,t){h(t)},inputValue:O,onInputChange:function(e,t){x(t)},options:t,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(qe.a,Object(i.a)(Object(i.a)({},e),{},{label:"Leerling zoeken",variant:"outlined"}))}}),Object(a.jsx)(Ie.a,{style:{margin:"1rem 0"}}),Object(a.jsx)(S.a,{children:Object(a.jsx)(Ze.a,{className:n.root,children:v.map((function(e){return Object(a.jsx)(Ot,Object(i.a)(Object(i.a)({},e),{},{isBottom:e.bottom,onClick:function(){return t=e.id,c.push("/dashboard/students/".concat(t));var t}}),e.id)}))})}),p?null:Object(a.jsx)(xt.a,{className:n.marginTop,count:Math.ceil(t.length/20),color:"primary",onChange:function(e,t){d(t-1)}})]})})},wt=function(e){var t=e.value,n=e.index,a=e.children;return t!==n?null:a},yt=n(471),kt=function(e){var t=e.crumbs,n=Object(l.g)();return Object(a.jsxs)(yt.a,{"aria-label":"breadcrumb",style:{marginBottom:"1rem"},children:[Object(a.jsx)(B.a,{variant:"body2",children:"Locatie:"}),t.map((function(e){return Object(a.jsx)(ye.a,{component:"button",color:"inherit",onClick:function(t){return function(e,t){e.preventDefault(),n.push(t.path)}(t,e)},children:e.name},e.path)}))]})},Ct=Object(d.a)((function(e){return{marginBottom:{marginBottom:"1rem"},pagination:{margin:"1rem auto"}}})),Nt=Object(f.a)((function(e){var t=e.crumbs,n=e.studentStore,c=Ct(),s=Object(l.g)(),o=Object(l.i)(),i=Object(l.h)(),u=Object(r.useState)(!1),d=Object(N.a)(u,2),j=d[0],b=d[1],p=Object(r.useState)([]),h=Object(N.a)(p,2),f=h[0],m=h[1],O=Object(r.useState)([]),x=Object(N.a)(O,2),g=x[0],v=x[1],w=o.classId,y=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadStudents({classId:w});case 2:case"end":return e.stop()}}),e)}))),[n,w]),I=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.loadClass(o.classId);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:m(t.body.data);case 6:case"end":return e.stop()}}),e)}))),[o.classId]),S=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.loadCourses({classId:w});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:v(t.body.data);case 6:case"end":return e.stop()}}),e)}))),[w]),G=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t=[y(),S(),I()],e.next=4,Promise.all(t);case 4:b(!1);case 5:case"end":return e.stop()}}),e)}))),[I,y,S]);return Object(r.useEffect)((function(){G()}),[G]),j||n.isLoading?Object(a.jsx)(A.a,{}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Te.a,{position:"static",children:Object(a.jsxs)(Re.a,{value:o.classTab,onChange:function(e,t){var n=o.classTab,a=i.pathname.replace(n,t);s.push(a)},children:[Object(a.jsx)(Ee.a,{label:"Inzicht (klas)",value:"class_insights",icon:Object(a.jsx)(_e.a,{})}),Object(a.jsx)(Ee.a,{label:"Lessen",value:"class_lessons",icon:Object(a.jsx)(We.a,{})}),Object(a.jsx)(Ee.a,{label:"Leerlingen",value:"class_students",icon:Object(a.jsx)(ze.a,{})})]})}),Object(a.jsxs)(ue,{children:[Object(a.jsx)(kt,{crumbs:t}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(B.a,{variant:"h4",className:c.marginBottom,children:f.name})}),Object(a.jsx)(wt,{index:"class_insights",value:o.classTab,children:Object(a.jsx)(Xe,{topResults:n.topResults,bottomResults:n.bottomResults})}),Object(a.jsx)(wt,{index:"class_lessons",value:o.classTab,children:Object(a.jsx)(dt,{courses:g})}),Object(a.jsx)(wt,{index:"class_students",value:o.classTab,children:Object(a.jsx)(vt,{students:n.students,bottomResults:n.bottomResults})})]})]})})),It=n(130),qt=n.n(It),St=n(3),At=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:400}}})),Gt=function(e){var t=e.lessonAttempts,n=e.title,c=At(),s=t.reduce((function(e,t){return t.isCompleted?e.completed+=1:t.isStarted?e.started+=1:e.notStarted+=1,e}),{started:0,completed:0,notStarted:0}),o=s.started,i=s.completed,u=s.notStarted;Object(r.useEffect)((function(){}),[]);var l={datasets:[{data:[u,o,i]}],labels:["Niet begonnen","Begonnen","Voltooid"]},d=Object(St.a)(c.paper,c.fixedHeight);return Object(a.jsxs)(S.a,{className:d,children:[Object(a.jsx)(W,{children:n}),Object(a.jsx)(m.Doughnut,{data:l})]})},Lt=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:400}}})),Tt=function(e){var t=e.lessonAttempts,n=e.title,r=Lt(),c={datasets:[{label:"Aantal leerlingen",data:t.reduce((function(e,t){return e[t.performance-1]+=1,e}),[0,0,0,0,0,0,0,0,0,0])}],labels:["1","2","3","4","5","6","7","8","9","10"]},s=Object(St.a)(r.paper,r.fixedHeight);return Object(a.jsxs)(S.a,{className:s,children:[Object(a.jsx)(W,{children:n}),Object(a.jsx)(m.Bar,{data:c})]})},Rt=[{field:"name",headerName:"Naam",flex:.2,valueGetter:function(e){return e.row.student.name}},{field:"progress",headerName:"Voortgang (%)",flex:.1,valueGetter:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length,n=e.reduce((function(e,t){return t.isCompleted&&(e+=1),e}),0);return 0!==t?Math.floor(n/t*100):100}(e.row.questionGroupAttempts)}},{field:"duration",headerName:"Tijdsduur (minuten)",flex:.15},{field:"correct",headerName:"Correct",flex:.1,type:"number"},{field:"incorrect",headerName:"Incorrect",flex:.1,type:"number"},{field:"performance",headerName:"Prestatie",flex:.1,type:"number"}],Et=Object(d.a)((function(e){return{datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),Bt=Object(f.a)((function(e){var t=Et(),n=Object(l.g)(),c=Object(l.i)(),s=e.lessonStore;if(Object(r.useEffect)((function(){s.loadLessonAttempts(c.lessonId)}),[s,c.lessonId]),s.isLoading)return Object(a.jsx)(A.a,{});return Object(a.jsxs)(q.a,{container:!0,spacing:2,children:[Object(a.jsx)(q.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Gt,{lessonAttempts:s.lessonAttempts,title:"Algemene voortgang"})}),Object(a.jsx)(q.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(Tt,{lessonAttempts:s.lessonAttempts,title:"Cijfer verdeling"})}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(S.a,{children:Object(a.jsx)(G.a,{className:t.datagrid,autoHeight:!0,rows:s.lessonAttempts,columns:Rt,pageSize:12,onRowClick:function(e){return n.push("/dashboard/students/".concat(e.row.student.id))}})})})]})})),Wt={open:"Open",clickTheRightWords:"Selecteer het correcte antwoord",multipleChoice:"Meerkeuze",divideTheWord:"Verdeel het woord",combineAndFillInTheBlanks:"Combineer en vul in"},Mt=[{field:"name",headerName:"Naam",flex:.2},{field:"index",headerName:"Opdrachtnummer",flex:.1,type:"number",valueGetter:function(e){return e.value+1}},{field:"questionGroups",headerName:"Vragen",flex:.1,valueGetter:function(e){return e.row.questions.length},type:"number"},{field:"type",headerName:"Type",flex:.2,valueGetter:function(e){var t=e.row.questions[0].type;return Wt[t]||t}},{field:"averageScore",headerName:"Gem. score (%)",flex:.1,type:"number"},{field:"completions",headerName:"Klaar",flex:.1,type:"number"}],zt=Object(d.a)((function(e){return{datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),Dt=Object(f.a)((function(e){var t=e.lessonStore,n=Object(l.h)(),c=zt(),s=Object(l.i)(),o=Object(l.g)();return Object(r.useEffect)((function(){t.loadLesson(s.lessonId)}),[t,s.lessonId]),t.isLoading||!t.lesson?Object(a.jsx)(A.a,{}):Object(a.jsx)(G.a,{className:c.datagrid,autoHeight:!0,rows:t.lesson.questionGroups,columns:Mt,pageSize:12,onRowClick:function(e){return o.push("".concat(n.pathname,"/questionGroups/").concat(e.row.id,"/question_group_insights"))},sortModel:[{field:"index",sort:"asc"}]})})),_t=Object(f.a)((function(e){var t=e.crumbs,n=Object(l.g)(),r=Object(l.i)(),c=Object(l.h)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Te.a,{position:"static",children:Object(a.jsxs)(Re.a,{value:r.lessonTab,onChange:function(e,t){var a=r.lessonTab,s=c.pathname.replace(a,t);n.push(s)},children:[Object(a.jsx)(Ee.a,{label:"Inzicht (les)",value:"lesson_insights",icon:Object(a.jsx)(_e.a,{})}),Object(a.jsx)(Ee.a,{label:"Opdrachten",value:"lesson_questions",icon:Object(a.jsx)(qt.a,{})})]})}),Object(a.jsxs)(ue,{maxWidth:"lg",children:[Object(a.jsx)(kt,{crumbs:t}),Object(a.jsx)(wt,{index:"lesson_insights",value:r.lessonTab,children:Object(a.jsx)(Bt,Object(i.a)({},e))}),Object(a.jsx)(wt,{index:"lesson_questions",value:r.lessonTab,children:Object(a.jsx)(Dt,Object(i.a)({},e))})]})]})})),Vt=n(476),Ft=n(454),Qt=n(455),Ht=n(132),Pt=n.n(Ht),$t=function(e){var t=e.name,n=e.id,r=e.prefix,c=Object(l.g)(),s=Object(l.h)();return Object(a.jsxs)(tt.a,{component:"div",alignItems:"flex-start",button:!0,onClick:function(){return c.push("".concat(s.pathname,"/lessons/").concat(n))},children:[Object(a.jsx)(nt.a,{primary:"".concat(r," - ").concat(t)}),Object(a.jsx)(at.a,{children:Object(a.jsx)(rt.a,{edge:"end","aria-label":"comments",children:Object(a.jsx)(ot.a,{})})})]},n)},Kt=Object(d.a)((function(e){return{fullWidth:{width:"100%"}}})),Jt=function(e){var t=e.name,n=e.id,c=e.lessons,s=Kt(),o=Object(r.useState)(!0),u=Object(N.a)(o,2),l=u[0],d=u[1];return Object(a.jsx)(tt.a,{component:"div",alignItems:"flex-start",children:Object(a.jsxs)(Vt.a,{className:s.fullWidth,TransitionProps:{unmountOnExit:!0},expanded:l,onChange:function(){return d(!l)},children:[Object(a.jsx)(Ft.a,{expandIcon:Object(a.jsx)(Pt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(a.jsx)(B.a,{children:t})}),Object(a.jsx)(Qt.a,{children:Object(a.jsx)(Ze.a,{subheader:Object(a.jsx)(ct.a,{component:"div",id:"nested-list-subheader",children:"Lessen"}),style:{width:"100%"},children:c.map((function(e){return Object(a.jsx)($t,Object(i.a)({},e),e.id)}))})})]})},n)},Ut=function(e){var t=e.courses;return Object(a.jsx)(Ze.a,{subheader:Object(a.jsx)(ct.a,{component:"div",id:"nested-list-subheader",children:"Cursussen"}),children:t.map((function(e){return Object(a.jsx)(Jt,Object(i.a)({},e),e.id)}))})},Yt=Object(d.a)((function(){return{title:{textAlign:"center",background:"black",color:"white",alignItems:"baseline",display:"flex",justifyContent:"center"}}})),Xt=function(e){var t=e.name,n=Yt();return Object(a.jsxs)(S.a,{className:n.title,children:[Object(a.jsx)(B.a,{style:{variant:"h5"},children:" Naam Leerling: "}),Object(a.jsx)(B.a,{style:{variant:"h6",marginLeft:"10%"},children:t})]})},Zt=n(457),en=n(460),tn=n(438),nn=n(456),an=n(458),rn=n(459),cn=n(210),sn=n.n(cn),on=n(211),un=n.n(on),ln=n(209),dn=n.n(ln),jn=function(e,t,n){return{courseName:e,lessonName:t,category:n}},bn=function(e){switch(e){case"progress":return Object(a.jsx)(dn.a,{style:{color:"orange"}});case"completed":return Object(a.jsx)(sn.a,{style:{color:"green"}});default:return Object(a.jsx)(un.a,{style:{color:"red"}})}},pn=function(e){var t=function(e){var t=[];return e.forEach((function(e){var n=e.name;e.lessons.forEach((function(e){var a=e.name;e.lessonAttempts.forEach((function(e){e.isStarted&&e.isCompleted?t.push(jn(n,a,"completed")):e.isStarted&&!e.isCompleted?t.push(jn(n,a,"progress")):t.push(jn(n,a,"notstarted"))}))}))})),t}(e.courses);return Object(a.jsx)(nn.a,{component:S.a,children:Object(a.jsxs)(Zt.a,{"aria-label":"spanning table",children:[Object(a.jsx)(an.a,{children:Object(a.jsxs)(rn.a,{children:[Object(a.jsx)(tn.a,{align:"left",children:"Cursus"}),Object(a.jsx)(tn.a,{align:"left",children:"Les"}),Object(a.jsx)(tn.a,{align:"left",children:"Voortgang"})]})}),Object(a.jsx)(en.a,{children:t.map((function(e,n){return Object(a.jsxs)(rn.a,{children:[0===n?Object(a.jsxs)(tn.a,{rowSpan:t.length,children:[" ",e.courseName]}):null,Object(a.jsx)(tn.a,{align:"left",children:e.lessonName}),Object(a.jsxs)(tn.a,{children:[" ",bn(e.category)," "]})]},n)}))})]})})},hn=Object(d.a)((function(e){return{widget:{height:230,padding:e.spacing(3),marginBottom:e.spacing(12)},paper:{borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopLeftRadius:0,borderTopRightRadius:0,height:230,padding:e.spacing(3)}}})),fn=Object(f.a)((function(e){var t=hn(),n=Object(l.i)(),c=Object(I.a)(),s=Object(r.useState)(!1),o=Object(N.a)(s,2),u=o[0],d=o[1],j=Object(r.useState)([]),b=Object(N.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)([]),m=Object(N.a)(f,2),O=m[0],x=m[1],g=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.studentId,e.next=3,se.loadCourses({studentId:t});case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return");case 6:x(a.body.data);case 7:case"end":return e.stop()}}),e)}))),[n.studentId]),v=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.studentId,e.next=3,se.loadStudent(t);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return");case 6:h(a.body.data);case 7:case"end":return e.stop()}}),e)}))),[n.studentId]),w=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),t=[g(),v()],e.next=4,Promise.all(t);case 4:d(!1);case 5:case"end":return e.stop()}}),e)}))),[g,v]);return Object(r.useEffect)((function(){w()}),[w]),u?Object(a.jsx)(A.a,{}):Object(a.jsx)(ue,{children:Object(a.jsxs)(q.a,{container:!0,spacing:2,children:[Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(Xt,Object(i.a)({},p))}),Object(a.jsxs)(q.a,{container:!0,spacing:3,className:t.widget,children:[Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(pn,{courses:O})}),Object(a.jsx)(Fe,{headercolor:c.widget.secondary.main,headertitle:"Probleem categorie\xebn",children:Object(a.jsxs)(S.a,{className:t.paper,children:[Object(a.jsx)(Ke,{title:"1. Herken morfemen in woorden",value:38}),Object(a.jsx)(Ke,{title:"2. Herken morfemen in een zin",value:48}),Object(a.jsx)(Ke,{title:"3. Verwisselen morfemen",value:55})]})}),Object(a.jsx)(Fe,{headercolor:c.widget.secondary.main,headertitle:"Top categorie\xebn",children:Object(a.jsxs)(S.a,{className:t.paper,children:[Object(a.jsx)(Ke,{title:"1. Betekenis morfemen",value:97}),Object(a.jsx)(Ke,{title:"2. Splits morfemen",value:83}),Object(a.jsx)(Ke,{title:"3. Alternatieve betekenis morfemen",value:74})]})}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(Ut,{courses:O})})]})]})})})),mn=n(395),On=[{field:"updatedAt",headerName:"Datum",flex:.2,renderCell:function(e){return t=e.row.updatedAt,"".concat(t.substring(0,10)," ").concat(t.substring(11,19));var t}},{field:"questionGroup",headerName:"Vraag groep",flex:.4,valueGetter:function(e){return e.row.question.questions.name}},{field:"questionGroupIndex",headerName:"Vraag groep index",flex:.2,valueGetter:function(e){return e.row.question.questions.index+1}},{field:"question",headerName:"Vraag nummer",flex:.2,valueGetter:function(e){return e.row.question.index+1}}],xn=Object(d.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)"},datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),gn=function(e){var t=xn(),n=e.questionAttempts,s=Object(r.useState)(!1),o=Object(N.a)(s,2),u=o[0],l=o[1],d=Object(r.useState)({}),j=Object(N.a)(d,2),b=j[0],p=j[1],h=c.a.forwardRef((function(e,n){return Object(a.jsxs)("div",Object(i.a)(Object(i.a)({},e),{},{className:t.paper,ref:n,children:[Object(a.jsx)("h2",{id:"simple-modal-title",children:"Antwoord"}),Object(a.jsx)("p",{id:"simple-modal-description",children:JSON.stringify(b.answer)})]}))}));return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(mn.a,{open:u,onClose:function(){l(!1),p({})},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(a.jsx)(h,{})}),Object(a.jsx)(W,{children:"Antwoorden"}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(G.a,{className:t.datagrid,autoHeight:!0,rows:n,columns:On,pageSize:5,onRowClick:function(e){return function(e){p(e.row),l(!0)}(e)}})})]})},vn=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),wn=function(e){var t=e.questionStore,n=vn(),c=Object(l.i)(),s=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadQuestionAttemptsWithInfo(c.studentId,c.lessonId);case 2:case"end":return e.stop()}}),e)}))),[t,c.studentId,c.lessonId]);return Object(r.useEffect)((function(){s()}),[s]),t.isLoading?Object(a.jsx)(A.a,{}):Object(a.jsx)(ue,{children:Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(S.a,{className:n.paper,children:Object(a.jsx)(gn,{questionAttempts:t.questionAttempts})})})})},yn=n(217),kn=n.n(yn),Cn=function(e){for(var t=[],n=0;n<e;n++)t.push("Vraag "+parseInt(n+1));return t},Nn=function(e){var t=e.questionGroup,n=e.title,r=t.questions.length,c=[];t.questions.forEach((function(e){c.push(e.id)}));var s=function(e,t,n){var a=Array(t).fill(0),r=Array(t).fill(0),c=Array(t).fill(0);return e.forEach((function(e){e.isCompleted&&e.questionAttempts.forEach((function(e){var t=n.findIndex((function(t){return t===e.questionId&&e.correct}));a[t]+=1;var s=n.findIndex((function(t){return t===e.questionId&&e.incorrect}));r[s]+=1;var o=n.findIndex((function(t){return t===e.questionId&&e.missed}));c[o]+=1}))})),[a,r,c]}(t.questionGroupAttempts,r,c),o={datasets:[{label:"Aantal juiste antwoorden",data:s[0]},{label:"Aantal incorrect antwoorden",data:s[1]},{label:"Aantal gemiste antwoorden",data:s[2]}],labels:Cn(r)};return Object(a.jsxs)(S.a,{children:[Object(a.jsx)(W,{children:n}),Object(a.jsx)(m.Bar,{data:o})]})},In=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",textAlign:"center",overflow:"auto",flexDirection:"column"},fixedHeight:{height:400}}})),qn=function(e){var t=e.questionGroupAttempts,n=e.title,r=In(),c=t.reduce((function(e,t){return e.correct+=t.correct,e.incorrect+=t.incorrect,e.missed+=t.missed,e}),{correct:0,incorrect:0,missed:0}),s={datasets:[{data:[c.correct,c.incorrect,c.missed]}],labels:["Correct","Incorrect","Gemist"]},o=Object(St.a)(r.paper,r.fixedHeight);return Object(a.jsxs)(S.a,{className:o,children:[Object(a.jsx)(W,{children:n}),Object(a.jsx)(m.Doughnut,{data:s})]})},Sn=Object(d.a)((function(e){return{card:{height:180,display:"flex",width:600},widget:{height:"100%",color:"white",display:"flex",justifyContent:"center",textAlign:"center",padding:e.spacing(2)},widgetTop:{fontWeight:400,padding:e.spacing(2)},widgetBottom:{fontWeight:100,padding:e.spacing(2)}}})),An=function(e){var t=e.questionGroup,n=e.title,r=e.number,c=e.color,s=Sn(),o=t.questions.length,i=t.averageElapsedTime,u=1===r?o:i+" sec.";return Object(a.jsx)(be.a,{style:{backgroundColor:c},className:s.card,children:Object(a.jsx)(he.a,{onClick:e.onClick,children:Object(a.jsx)(pe.a,{children:Object(a.jsxs)(q.a,{container:!0,spacing:1,className:s.widget,children:[Object(a.jsx)(B.a,{variant:"h5",className:s.widgetTop,children:n}),Object(a.jsx)(B.a,{variant:"h5",className:s.widgetBottom,children:u})]})})})})},Gn=Object(f.a)((function(e){var t=e.questionStore,n=Object(I.a)(),c=Object(l.i)(),s=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadQuestionGroupWithAttempts(c.questionGroupId);case 2:case"end":return e.stop()}}),e)}))),[t,c.questionGroupId]);return Object(r.useEffect)((function(){s()}),[s]),t.isLoading||!t.questionGroup?Object(a.jsx)(A.a,{}):Object(a.jsxs)(q.a,{container:!0,spacing:2,children:[Object(a.jsx)(q.a,{item:!0,xs:12,md:6,children:Object(a.jsx)(qn,{questionGroupAttempts:t.questionGroup.questionGroupAttempts,title:"Correctheid verdeling van de vragen"})}),Object(a.jsxs)(q.a,{item:!0,xs:12,md:6,style:{padding:"1rem"},children:[Object(a.jsx)(An,{questionGroup:t.questionGroup,title:"Totaal aantal vragen: ",number:1,color:n.widget.tertiary.main}),Object(a.jsx)(An,{questionGroup:t.questionGroup,title:"Gemiddelde tijdsduur vragengroep: ",number:2,color:n.widget.secondary.main})]}),Object(a.jsx)(q.a,{item:!0,xs:12,md:12,children:Object(a.jsx)(Nn,{questionGroup:t.questionGroup,title:"Correctheid verdeling per vraag"})})]})})),Ln=n(39),Tn=n(470),Rn=n(477),En=n(388),Bn=n(105),Wn=n(213),Mn=n.n(Wn),zn=n(382),Dn=n(215),_n=n.n(Dn),Vn=n(212),Fn=n.n(Vn),Qn=n(214),Hn=n.n(Qn),Pn=n(383),$n=Object(d.a)((function(e){return{fullWidth:{width:"100%"},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}})),Kn=function(e){var t=e.onClick;return Object(a.jsx)("label",{htmlFor:"icon-button-file",children:Object(a.jsx)(rt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:t,children:Object(a.jsx)(Fn.a,{})})})},Jn=function(e){var t=$n(),n=e.id,s=e.instruction,o=e.data,u=e.save,l=e.setIsBlocking,d=Object(i.a)({},o),j=Object(r.useState)(d),b=Object(N.a)(j,2),p=b[0],h=b[1],f=Object(r.useState)(""),m=Object(N.a)(f,2),O=m[0],x=m[1],g=c.a.useState(null),v=Object(N.a)(g,2),w=v[0],y=v[1],k=Object(r.useState)(!1),C=Object(N.a)(k,2),I=C[0],S=C[1],A=function(e,t){x(t),y(e.currentTarget)},G=function(){y(null)},L=Boolean(w);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Pn.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:L,anchorEl:w,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:G,disableRestoreFocus:!0,children:Object(a.jsx)(B.a,{children:O})}),Object(a.jsx)(tt.a,{component:"div",alignItems:"flex-start",children:Object(a.jsxs)(q.a,{container:!0,children:[Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(B.a,{variant:"body1",className:t.marginBottom,children:s})}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(B.a,{children:p.value})}),Object(a.jsx)(q.a,{item:!0,xs:10,children:Object(a.jsxs)(Bn.a,{component:"fieldset",children:[Object(a.jsx)(zn.a,{component:"legend",children:"Selecteer het juiste antwoord"}),Object(a.jsx)(Rn.a,{children:p.options.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(En.a,{value:e.value,control:Object(a.jsx)(Tn.a,{color:"primary",checked:e.isCorrect,onClick:function(t){return function(e,t){l(!0);var n=p.options.map((function(t){return t===e?Object(i.a)(Object(i.a)({},e),{},{isCorrect:!t.isCorrect}):t})),a=Object(i.a)(Object(i.a)({},p),{},{options:n});h(a)}(e)}}),label:I?Object(a.jsx)(qe.a,{value:e.value,onChange:function(t){return function(e,t){l(!0);var n=p.options.map((function(n){return n===e?Object(i.a)(Object(i.a)({},n),{},{value:t.target.value}):n})),a=Object(i.a)(Object(i.a)({},p),{},{options:n});h(a)}(e,t)},placeholder:"Nieuw antwoord"}):e.value,disabled:!I}),I&&Object(a.jsx)(Kn,{onClick:function(){return function(e){l(!0);var t=p.options.filter((function(t){return t!==e})),n=Object(i.a)(Object(i.a)({},p),{},{options:t});h(n)}(e)}})]},t)}))}),I?Object(a.jsxs)("label",{htmlFor:"icon-button-file",children:[Object(a.jsx)(rt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){l(!0);var e=[].concat(Object(Ln.a)(p.options),[{isCorrect:!1,value:""}]),t=Object(i.a)(Object(i.a)({},p),{},{options:e});h(t)},children:Object(a.jsx)(Mn.a,{})}),"Antwoord toevoegen"]}):null]})}),I?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(q.a,{item:!0,xs:1,children:Object(a.jsx)(rt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){G(),S(!1),u(p),l(!1)},onMouseEnter:function(e){return A(e,"Aanpassingen opslaan")},onMouseLeave:G,"aria-owns":L?"mouse-over-popover":void 0,"aria-haspopup":"true",children:Object(a.jsx)(Hn.a,{})})}),Object(a.jsx)(q.a,{item:!0,xs:1,children:Object(a.jsx)(rt.a,{color:"secondary",component:"span",onClick:function(){G(),S(!1),h(o),l(!1)},onMouseEnter:function(e){return A(e,"Aanpassingen ongedaan maken")},onMouseLeave:G,"aria-owns":L?"mouse-over-popover":void 0,"aria-haspopup":"true",children:Object(a.jsx)(_n.a,{})})})]}):Object(a.jsx)(q.a,{item:!0,xs:2,children:Object(a.jsx)(rt.a,{color:"primary",onClick:function(){return S(!0)},onMouseEnter:function(e){return A(e,"Vraag aanpassen")},onMouseLeave:G,"aria-owns":L?"mouse-over-popover":void 0,"aria-haspopup":"true",children:Object(a.jsx)(qt.a,{})})})]})},n)]})},Un=Object(d.a)((function(e){return{fullWidth:{width:"100%"}}})),Yn=function(e){var t=e.id,n=e.index,r=e.data,c=Un();return Object(a.jsx)(tt.a,{component:"div",alignItems:"flex-start",children:Object(a.jsxs)(q.a,{container:!0,children:[Object(a.jsx)(q.a,{item:!0,xs:12,md:6,className:c.fullWidth,children:Object(a.jsx)(B.a,{children:"".concat(n+1,". ").concat(r.word)})}),(r.morphemes||[]).map((function(e,t){return Object(a.jsxs)(q.a,{item:!0,xs:12,children:[Object(a.jsx)(B.a,{children:e.value}),Object(a.jsx)(Rn.a,{children:e.options.map((function(e,t){return Object(a.jsx)("div",{children:Object(a.jsx)(En.a,{value:e.value,disabled:!0,control:Object(a.jsx)(Tn.a,{color:"primary",checked:e.isCorrect}),label:Object(a.jsx)(qe.a,{value:e.value,placeholder:"Nieuw antwoord",disabled:!0})})},t)}))})]},e.value)}))]})},t)},Xn=Object(d.a)((function(e){return{fullWidth:{width:"100%"}}})),Zn=function(e){var t=e.id,n=Xn();return Object(a.jsx)(tt.a,{component:"div",alignItems:"flex-start",children:Object(a.jsx)(q.a,{container:!0,children:Object(a.jsxs)(q.a,{item:!0,xs:12,md:6,className:n.fullWidth,children:[Object(a.jsx)(B.a,{variant:"body1",children:"".concat(e.index+1,". ").concat(e.instruction)}),Object(a.jsx)(qe.a,{disabled:!0,multiline:!0,rows:4,className:n.fullWidth})]})})},t)},ea=Object(d.a)((function(e){return{fullWidth:{width:"100%"}}})),ta=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" | ",a=n.length;return t.forEach((function(t,r){var c=e.slice(0,t+r*a),s=e.slice(t+r*a);e="".concat(c).concat(n).concat(s)})),e},na=function(e){var t=e.id,n=e.data,r=ea();return Object(a.jsx)(tt.a,{component:"div",alignItems:"flex-start",children:Object(a.jsx)(q.a,{container:!0,children:Object(a.jsxs)(q.a,{item:!0,xs:12,md:6,className:r.fullWidth,children:[Object(a.jsx)(B.a,{variant:"body1",children:"".concat(e.index+1,". ").concat(n.word)}),Object(a.jsx)(B.a,{children:ta(n.word,n.correctAnswer)})]})})},t)},aa=Object(d.a)((function(e){return{fullWidth:{width:"100%"}}})),ra=function(e){var t=e.id,n=aa();return Object(a.jsx)(tt.a,{component:"div",alignItems:"flex-start",children:Object(a.jsxs)(q.a,{container:!0,children:[Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(B.a,{variant:"body1",className:n.marginBottom})}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(B.a,{children:"Oh oh, dit wordt nog niet ondersteund."})})]})},t)},ca=function(e){var t=e.type;switch(t){case"multipleChoice":return Object(a.jsx)(Jn,Object(i.a)({},e));case"multipleChoiceGroup":return Object(a.jsx)(Yn,Object(i.a)({},e));case"open":return Object(a.jsx)(Zn,Object(i.a)({},e));case"divideTheWord":return Object(a.jsx)(na,Object(i.a)({},e));case"clickTheRightWords":return Object(a.jsx)(ra,Object(i.a)({},e));default:return Object(a.jsx)("p",{children:"Er is iets fout gegaan, ".concat(t," wordt niet herkend als vraag type")})}},sa=function(e){var t=e.questions,n=e.save,c=Object(r.useState)(!1),s=Object(N.a)(c,2),o=s[0],u=s[1];t.sort((function(e,t){return e.index>t.index?1:-1}));var d=function(){var e=Object(C.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t,a);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(l.a,{when:o,message:function(e){return"Je hebt je aanpassingen niet opgeslagen, weet je zeker dat je deze pagina wilt verlaten? (Uw aanpassingen zullen NIET opgeslagen worden!)"}}),Object(a.jsx)(S.a,{children:Object(a.jsx)(Ze.a,{subheader:Object(a.jsx)(ct.a,{component:"div",id:"nested-list-subheader",children:"Instructie"}),children:t.map((function(e,t){return Object(a.jsx)(tt.a,{component:"div",children:Object(a.jsx)(ca,Object(i.a)(Object(i.a)({},e),{},{setIsBlocking:u,index:t,save:function(t){return d(e.id,t)}}))},e.id)}))})})]})},oa=function(e){var t=e.authStore,n=Object(r.useState)(null),c=Object(N.a)(n,2),s=c[0],o=c[1],u=Object(r.useState)(!1),d=Object(N.a)(u,2),j=d[0],b=d[1],p=Object(l.i)(),h=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,se.loadQuestionGroup(p.questionGroupId);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:o(t.body.data),b(!1);case 8:case"end":return e.stop()}}),e)}))),[p.questionGroupId]);Object(r.useEffect)((function(){h()}),[h]);var f=function(){var e=Object(C.a)(k.a.mark((function e(n,a){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,se.updateQuestion(n,a);case 3:if(r=e.sent,b(!1),r){e.next=7;break}return e.abrupt("return");case 7:return t.setSuccess("Vraag succesvol ge\xfcpdatet"),e.next=10,h();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return j||!s?Object(a.jsx)(A.a,{}):Object(a.jsxs)(q.a,{container:!0,spacing:2,children:[Object(a.jsx)(q.a,{item:!0,xs:12}),Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(sa,Object(i.a)(Object(i.a)({},s),{},{save:f}))})]})},ia=n(218),ua=n.n(ia),la=Object(d.a)((function(e){return{paper:{display:"flex",textAlign:"center",overflow:"auto",justifyContent:"center",backgroundColor:e.widget.secondary.main,color:"white",alignItems:"baseline"},fixedHeight:{height:400}}})),da=function(e){var t=e.name,n=e.label,r=la();return Object(a.jsxs)(S.a,{className:r.paper,children:[Object(a.jsxs)(B.a,{variant:"h6",children:[t," "]}),Object(a.jsx)(He.a,{paddingLeft:2,children:Object(a.jsxs)(B.a,{variant:"subtitle1",children:["(",n,")"]})})]})},ja=Object(d.a)((function(e){return{answer:function(e){return{background:ba(e.correct),width:"90%"}}}})),ba=function(e){return e?"#C5E6A6":"white"},pa=function(e){var t=ja(e);return Object(a.jsxs)(B.a,{className:t.answer,children:[" ",e.answer]})},ha=n(216),fa=n.n(ha),ma=Object(d.a)((function(e){return{questionName:{display:"flex",flexGrow:0,backgroundColor:e.widget.primary.main,color:"white"},grid:{display:"flex",direction:"column",wrap:"nowrap",flexGrow:1},title:{backgroundColor:e.widget.tertiary.main,color:"white",textAlign:"center",fontWeight:"fontWeightBold"}}})),Oa=Object(f.a)((function(e){var t=Object(l.g)(),n=ma(),c=e.questionStore,s=Object(r.useState)(null),o=Object(N.a)(s,2),u=o[0],d=o[1],j=Object(r.useState)(""),b=Object(N.a)(j,2),p=b[0],h=b[1];if(c.isLoading||!c.questionGroup)return Object(a.jsx)(A.a,{});var f=function(e,t){var n=0,a=0;return c.questionGroup.questionGroupAttempts.forEach((function(r){r.isCompleted&&r.questionAttempts.forEach((function(r){r.questionId===e&&r.content.forEach((function(e){a+=1,e===t&&(n+=1)}))}))})),Math.round(n/a*100)},m=function(e){var t=[];return c.questionGroup.questionGroupAttempts.forEach((function(n){n.questionAttempts.forEach((function(n){n.questionId===e&&t.push({id:n.id,studentName:n.studentName,answer:n.answer,studentId:n.studentId})}))})),t},O=function(e,t){var n=[];return c.questionGroup.questionGroupAttempts.forEach((function(a){a.questionAttempts.forEach((function(a){a.questionId===e&&a.answer===t.answer&&n.push({id:a.id,studentName:a.studentName,answer:a.answer,studentId:a.studentId})}))})),n},x=function(e){var t=[];return c.questionGroup.questions.forEach((function(n){n.id===e&&n.data.options.forEach((function(e){t.push({answer:e.value})}))})),t},g=function(e){return t.push("/dashboard/students/".concat(e.row.studentId))},v=function(e,t){h(t)},w=function(e,t){d(t)},y=c.questionGroup.questions[0].type,k=c.questionGroup.name,C={open:"Open",clickTheRightWords:"Selecteer het correcte antwoord",multipleChoice:"Meerkeuze",divideTheWord:"Verdeel het woord",combineAndFillInTheBlanks:"Combineer en vul in"}[y]||y,I=[{field:"studentName",headerName:"Naam",flex:1,valueGetter:function(e){return e.row.studentName}},{field:"answer",headerName:"Antwoord",flex:1,valueGetter:function(e){return e.row.answer}}];return Object(a.jsxs)(q.a,{container:!0,spacing:2,children:[Object(a.jsx)(q.a,{item:!0,xs:12,md:12,children:Object(a.jsx)(da,{name:k,label:C})}),Object(a.jsx)(q.a,{item:!0,xs:12,md:12,children:c.questionGroup.questions.map((function(e,t){return Object(a.jsxs)(Vt.a,{defaultExpanded:!0,children:[Object(a.jsx)(Ft.a,{expandIcon:Object(a.jsx)(Pt.a,{}),className:n.questionName,children:Object(a.jsx)(B.a,{style:{marginLeft:"45%"},children:"Vraag "+parseInt(t+1)},t)}),Object(a.jsx)(Qt.a,{children:Object(a.jsxs)(q.a,{container:!0,spacing:1,children:[Object(a.jsx)(q.a,{item:!0,xs:12,md:12,children:Object(a.jsx)(B.a,{children:e.instruction},t)}),Object(a.jsx)(q.a,{item:!0,xs:6,md:3,children:Object(a.jsx)(Ze.a,{children:e.data.options.map((function(n,r){return Object(a.jsxs)(tt.a,{children:[Object(a.jsx)(jt.a,{children:Object(a.jsx)(fa.a,{})}),Object(a.jsx)(nt.a,{primary:Object(a.jsx)(pa,{answer:n.value,correct:n.isCorrect})},t),Object(a.jsx)(at.a,{children:Object(a.jsxs)(B.a,{style:{color:"grey"},children:[f(e.id,r),"%"]})})]},r)}))})}),Object(a.jsx)(Ie.a,{style:{margin:"1rem 0",width:"100%"}}),Object(a.jsx)(q.a,{item:!0,xs:12,md:12,children:Object(a.jsxs)(q.a,{item:!0,xs:12,md:12,children:[Object(a.jsx)(B.a,{className:n.title,children:"Filter op antoord :"}),Object(a.jsx)(et.a,{value:u,onChange:w,inputValue:p,onInputChange:v,options:x(e.id),getOptionLabel:function(e){return e.answer},renderInput:function(e){return Object(a.jsx)(qe.a,Object(i.a)(Object(i.a)({},e),{},{variant:"outlined"}))}})]})}),Object(a.jsx)(q.a,{item:!0,xs:12,md:12,children:Object(a.jsx)(G.a,{autoHeight:!0,rows:u?O(e.id,u):m(e.id),columns:I,pageSize:12,onRowClick:g})})]})})]},e.id)}))})]})})),xa=function(e){var t=e.questionStore.questionGroup.questions[0].type;switch(t){case"multipleChoice":return Object(a.jsx)(Oa,Object(i.a)({},e));default:return Object(a.jsx)("p",{children:"Er is iets fout gegaan, ".concat(t," wordt niet herkend als vraag type")})}},ga=function(e){var t=Object(l.g)(),n=Object(l.i)(),c=Object(l.h)(),s=e.questionStore,o=e.crumbs,u=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadQuestionGroupWithAttempts(n.questionGroupId);case 2:case"end":return e.stop()}}),e)}))),[s,n.questionGroupId]);Object(r.useEffect)((function(){u()}),[u]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Te.a,{position:"static",children:Object(a.jsxs)(Re.a,{value:n.questionGroupTab,onChange:function(e,a){var r=n.questionGroupTab,s=c.pathname.replace(r,a);t.push(s)},children:[Object(a.jsx)(Ee.a,{label:"Inzicht (opdracht)",icon:Object(a.jsx)(_e.a,{}),value:"question_group_insights"}),Object(a.jsx)(Ee.a,{label:"Opdracht",icon:Object(a.jsx)(kn.a,{}),value:"question_group_questions"}),Object(a.jsx)(Ee.a,{label:"Antwoorden",icon:Object(a.jsx)(ua.a,{}),value:"question_group_answers"})]})}),Object(a.jsxs)(ue,{maxWidth:"lg",children:[Object(a.jsx)(kt,{crumbs:o}),Object(a.jsx)(wt,{index:"question_group_questions",value:n.questionGroupTab,children:Object(a.jsx)(oa,Object(i.a)({},e))}),Object(a.jsx)(wt,{index:"question_group_insights",value:n.questionGroupTab,children:Object(a.jsx)(Gn,Object(i.a)({},e))}),Object(a.jsx)(wt,{index:"question_group_answers",value:n.questionGroupTab,children:Object(a.jsx)(xa,Object(i.a)({},e))})]})]})},va=[{field:"name",headerName:"Naam",flex:.25},{field:"classes",headerName:"Klas",flex:.75,valueGetter:function(e){return e.row.classes[0].name}}],wa=Object(d.a)((function(e){return{container:{padding:e.spacing(4,12,4,12)},datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),ya=[{exact:!0,path:"/dashboard/home",Component:ve,name:"Home"},{exact:!0,path:"/dashboard/profile",Component:Le,name:"Profile"},{exact:!0,path:"/dashboard/classes/:classId/:classTab",Component:Nt,name:"Klas"},{exact:!0,path:"/dashboard/classes/:classId/:classTab/lessons/:lessonId/:lessonTab",Component:_t,name:"Les"},{exact:!0,path:"/dashboard/students/:studentId",Component:fn,name:"Leerling"},{exact:!0,path:"/dashboard/students/:studentId/lessons/:lessonId",Component:wn,name:"Les Inzicht"},{exact:!0,path:"/dashboard/classes/:classId/:classTab/lessons/:lessonId/:lessonTab/questionGroups/:questionGroupId/:questionGroupTab",Component:ga,name:"Vraag Groep"},{exact:!0,path:"/dashboard/students",Component:Object(f.a)((function(){var e=wa(),t=Object(l.g)(),n=Object(r.useState)(!1),c=Object(N.a)(n,2),s=c[0],o=c[1],u=Object(r.useState)([]),d=Object(N.a)(u,2),j=d[0],b=d[1],p=Object(r.useState)(null),h=Object(N.a)(p,2),f=h[0],m=h[1],O=Object(r.useState)(""),x=Object(N.a)(O,2),g=x[0],v=x[1],w=function(){var e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,se.loadStudents();case 3:if(t=e.sent,o(!1),t){e.next=7;break}return e.abrupt("return");case 7:b(t.body.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=f?[f]:j;Object(r.useEffect)((function(){w()}),[]);return s?Object(a.jsx)(A.a,{}):Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsx)(et.a,{value:f,onChange:function(e,t){m(t)},inputValue:g,onInputChange:function(e,t){v(t)},options:j,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(a.jsx)(qe.a,Object(i.a)(Object(i.a)({},e),{},{label:"Leerling zoeken",variant:"outlined"}))}}),Object(a.jsx)(q.a,{container:!0,spacing:2,children:Object(a.jsx)(q.a,{item:!0,xs:12,children:Object(a.jsx)(S.a,{children:Object(a.jsx)(G.a,{className:e.datagrid,autoHeight:!0,rows:y,columns:va,pageSize:24,onRowClick:function(e){return t.push("/dashboard/students/".concat(e.row.id))},components:{ColumnMenuIcon:function(){return null}}})})})})]})})),name:"Leerlingen"}],ka=n(462),Ca=n(461),Na=n(222),Ia=n.n(Na),qa=n(219),Sa=n.n(qa),Aa=n(220),Ga=n.n(Aa),La=n(221),Ta=n.n(La),Ra=n(135),Ea=n.n(Ra),Ba=n(223),Wa=n.n(Ba),Ma=Object(d.a)((function(e){return{root:{width:245,color:e.palette.text.secondary,"&:hover > $content":{backgroundColor:e.palette.action.hover},"&:focus > $content, &$selected > $content":{backgroundColor:"var(--tree-view-bg-color, ".concat(e.palette.grey[400],")"),color:"var(--tree-view-color)"},"&:focus > $content $label, &:hover > $content $label, &$selected > $content $label":{backgroundColor:"transparent"}},content:{color:e.palette.text.secondary,borderTopRightRadius:e.spacing(2),borderBottomRightRadius:e.spacing(2),paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"$expanded > &":{fontWeight:e.typography.fontWeightRegular}},group:{marginLeft:0,"& $content":{paddingLeft:e.spacing(2)}},expanded:{},selected:{},label:{fontWeight:"inherit",color:"inherit"},labelRoot:{display:"flex",alignItems:"center",padding:e.spacing(.5,0)},labelIcon:{marginRight:e.spacing(1)},labelText:{fontWeight:"inherit",flexGrow:1}}})),za=function(e){var t=Ma(),n=e.labelText,r=e.labelIcon,c=e.labelInfo,s=e.color,o=e.bgColor,u=Object(w.a)(e,["labelText","labelIcon","labelInfo","color","bgColor"]);return Object(a.jsx)(Ca.a,Object(i.a)({label:Object(a.jsxs)("div",{className:t.labelRoot,children:[r&&Object(a.jsx)(r,{color:"inherit",className:t.labelIcon}),Object(a.jsx)(B.a,{variant:"body2",className:t.labelText,children:n}),Object(a.jsx)(B.a,{variant:"caption",color:"inherit",children:c})]}),style:{"--tree-view-color":s,"--tree-view-bg-color":o},classes:{root:t.root,content:t.content,expanded:t.expanded,selected:t.selected,group:t.group,label:t.label}},u))},Da=Object(d.a)({}),_a=function(e){var t=e.authStore,n=Da(),c=Object(l.g)(),s=Object(r.useState)([]),o=Object(N.a)(s,2),i=o[0],u=o[1],d=Object(r.useState)(!1),j=Object(N.a)(d,2),b=j[0],p=j[1],h=function(){var e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,se.loadClasses();case 3:(t=e.sent)&&u(t.body.data),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){h()}),[]);return Object(a.jsxs)(ka.a,{className:n.root,defaultExpanded:["/dashboard/classes"],defaultCollapseIcon:Object(a.jsx)(Sa.a,{}),defaultExpandIcon:Object(a.jsx)(Ga.a,{}),defaultEndIcon:Object(a.jsx)("div",{style:{width:24}}),onNodeSelect:function(e,n){"/"===n&&t.logout(),c.push(n)},children:[Object(a.jsx)("div",{style:{marginTop:"64px",padding:0}}),Object(a.jsx)(Ie.a,{}),Object(a.jsx)(ct.a,{inset:!0,children:"Leraren dashboard"}),Object(a.jsx)(za,{nodeId:"/dashboard/home",labelText:"Overzicht",labelIcon:Ta.a}),Object(a.jsx)(za,{nodeId:"/dashboard/classes",labelText:"Klassen",labelIcon:Ea.a,children:b?Object(a.jsx)(A.a,{}):i.map((function(e){return Object(a.jsx)(za,{nodeId:"/dashboard/classes/".concat(e.id,"/class_insights"),labelText:e.name,color:"#1a73e8",bgColor:"#e8f0fe"},e.id)}))}),Object(a.jsx)(za,{nodeId:"/dashboard/students",labelText:"Leerlingen",labelIcon:Ia.a}),Object(a.jsx)(za,{nodeId:"/",labelText:"Uitloggen",labelIcon:Wa.a})]})},Va=n(439),Fa=n(469),Qa=n(5),Ha=n(201),Pa=n(79),$a=n(224),Ka=n.n($a),Ja=n(165),Ua=Object(Qa.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(a.jsx)(Ha.a,Object(i.a)({getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e))})),Ya=Object(Qa.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(Pa.a),Xa=Object(f.a)((function(e){var t=e.notificationStore,n=c.a.useState(null),s=Object(N.a)(n,2),o=s[0],i=s[1],u=Object(r.useState)(null),d=Object(N.a)(u,2),j=d[0],b=d[1],p=Object(r.useState)(!1),h=Object(N.a)(p,2),f=h[0],m=h[1],O=Object(l.g)(),x=Object(r.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.next=3,se.loadClasses();case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:b(t.body.data),m(!1);case 8:case"end":return e.stop()}}),e)}))),[]);Object(r.useEffect)((function(){x()}),[x]);Object(r.useEffect)((function(){var e=setInterval((function(){1===t.accumulator&&(t.pushNotification({id:Object(Fa.a)(),classId:j[0].id,category:"classes",value:"Klas 1 heeft nieuwe probleem categorie\xebn",index:t.notifications.length}),t.pushNotification({id:Object(Fa.a)(),classId:j[0].id,category:"classes",value:"Klas 1 heeft les 1 volledig afgerond",index:t.notifications.length})),t.pushAccumulator()}),5e3);return function(){return clearInterval(e)}}),[t,j]);var g=function(){i(null)};return f||!j?Object(a.jsx)(A.a,{}):Object(a.jsxs)(q.a,{container:!0,children:[Object(a.jsx)(q.a,{item:!0,children:Object(a.jsx)(rt.a,{color:"inherit",onClick:function(e){i(e.currentTarget)},children:Object(a.jsx)(Ja.a,{badgeContent:t.notifications.length,color:"secondary",children:Object(a.jsx)(Ka.a,{})})})}),Object(a.jsx)(Ua,{anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:g,children:t.notifications.length?t.notifications.map((function(e){return Object(a.jsxs)(Ya,{onClick:function(){return function(e){"classes"===e.category&&(t.deleteNotification(e.index),O.push("/dashboard/".concat(e.category,"/").concat(e.classId,"/class_insights")))}(e)},children:[Object(a.jsx)(jt.a,{children:Object(a.jsx)(Ea.a,{fontSize:"small"})}),Object(a.jsx)(nt.a,{primary:e.value})]},e.id)})):Object(a.jsx)(Ya,{onClick:g,children:Object(a.jsx)(nt.a,{primary:"Geen notificaties!"})})})]})})),Za=n(225),er=n.n(Za),tr=n(226),nr=n.n(tr),ar=Object(d.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:245,width:"calc(100% - ".concat(245,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},icons:{display:"flex"}}})),rr=function(e){var t=ar(),n=Object(l.g)();return Object(a.jsx)(Te.a,{position:"absolute",className:Object(St.a)(t.appBar,t.appBarShift),children:Object(a.jsxs)(Va.a,{className:t.toolbar,children:[Object(a.jsx)(rt.a,{onClick:function(){return n.goBack()},children:Object(a.jsx)(er.a,{style:{color:"white"}})}),Object(a.jsx)(B.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title}),Object(a.jsxs)("div",{className:t.icons,children:[Object(a.jsx)(Xa,Object(i.a)({},e)),Object(a.jsx)(rt.a,{color:"inherit",onClick:function(){return n.push("/dashboard/profile")},children:Object(a.jsx)(nr.a,{})})]})]})})},cr=Object(d.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"}}})),sr=function(e){var t=e.authStore,n=e.lessonStore,r=e.questionStore,c=e.notificationStore,s=e.studentStore,o=cr();return Object(a.jsx)(l.d,{children:ya.map((function(e){var u=e.exact,d=e.path,j=e.name,b=e.Component;return Object(a.jsx)(l.b,{exact:u,path:d,render:function(e){var u=ya.filter((function(t){var n=t.path;return e.match.path.includes(n)})).map((function(t){var n=t.path,a=Object(w.a)(t,["path"]);return Object(i.a)({path:Object.keys(e.match.params).length?Object.keys(e.match.params).reduce((function(t,n){return t.replace(":".concat(n),e.match.params[n])}),n):n},a)}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(rr,Object(i.a)({notificationStore:c},e)),Object(a.jsx)(_a,{authStore:t}),Object(a.jsxs)("main",{className:o.content,children:[Object(a.jsx)("div",{className:o.appBarSpacer}),Object(a.jsx)(b,Object(i.a)({authStore:t,lessonStore:n,questionStore:r,notificationStore:c,studentStore:s,crumbs:u},e))]})]})},name:j},d)}))})},or=n(88),ir=n(232),ur=n(227),lr=n.n(ur),dr=n.p+"static/media/loginBanner.8df90453.jpg",jr=function(){return Object(a.jsxs)(B.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(ye.a,{color:"inherit",href:"https://material-ui.com/",children:"Wordfactory"})," ",(new Date).getFullYear(),"."]})},br=Object(d.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(dr,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),pr=Object(f.a)((function(e){var t=e.authStore,n=br(),c=Object(l.g)(),s=Object(r.useState)(""),o=Object(N.a)(s,2),i=o[0],u=o[1],d=Object(r.useState)(""),j=Object(N.a)(d,2),b=j[0],p=j[1],h=Object(r.useState)(!1),f=Object(N.a)(h,2),m=f[0],O=f[1],x=function(){var e=Object(C.a)(k.a.mark((function e(n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),n.preventDefault(),e.next=4,t.login(i,b);case 4:a=e.sent,O(!1),a&&c.push("/dashboard/home");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(q.a,{container:!0,component:"main",className:n.root,children:[Object(a.jsx)(q.a,{item:!0,xs:!1,sm:4,md:7,className:n.image}),Object(a.jsx)(q.a,{item:!0,xs:12,sm:8,md:5,component:S.a,elevation:6,square:!0,children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(we.a,{className:n.avatar,children:Object(a.jsx)(lr.a,{})}),Object(a.jsx)(B.a,{component:"h1",variant:"h5",children:"Log in"}),Object(a.jsxs)("form",{className:n.form,noValidate:!0,children:[Object(a.jsx)(qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Adres",name:"email",autoComplete:"email",autoFocus:!0,value:i,onChange:function(e){return u(e.target.value)}}),Object(a.jsx)(qe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Wachtwoord",type:"password",id:"password",autoComplete:"current-password",value:b,onChange:function(e){return p(e.target.value)}}),Object(a.jsx)(En.a,{control:Object(a.jsx)(ir.a,{value:"remember",color:"primary"}),label:"Herinner mij"}),Object(a.jsx)(or.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,disabled:m,onClick:x,children:"Inloggen"}),Object(a.jsxs)(q.a,{container:!0,children:[Object(a.jsx)(q.a,{item:!0,xs:!0,children:Object(a.jsx)(ye.a,{href:"#",variant:"body2",children:"Wachtwoord vergeten?"})}),Object(a.jsx)(q.a,{item:!0,children:Object(a.jsx)(ye.a,{href:"#",variant:"body2",children:"Geen account? Registreer hier."})})]}),Object(a.jsx)(He.a,{mt:5,children:Object(a.jsx)(jr,{})})]})]})})]})})),hr=n(61),fr={addDuration:function(e){return e.map((function(e){var t=e.questionGroupAttempts.reduce((function(e,t){return e+t.timeElapsedSeconds}),0);return e.duration=Math.round(t/60),e}))},addPerformance:function(e){return e.map((function(e){var t=e.questionGroupAttempts.reduce((function(e,t){return e.correct+=t.correct,e.incorrect+=t.incorrect+t.missed,e}),{correct:0,incorrect:0}),n=t.correct,a=t.incorrect;e.correct=n,e.incorrect=a;var r=n/(n+a)*100/10;return e.performance=Math.max(1,Math.round(r||1)),e}))},addInformation:function(e){return e.forEach((function(e){var t=[],n="",a=0,r=0,c=0,s=[];"multipleChoice"===e.question.type?(e.question.data.options.forEach((function(e,n){t.push(e.value),e.isCorrect&&s.push(n)})),e.content!==[]?(e.content.forEach((function(e,c){s.includes(e)?a+=1:r+=1,n+=t[c]})),c+=s.length-e.content.length):(n=e.content,a=r=c=0)):n=e.content,e.correct=a,e.incorrect=r,e.missed=c,e.answer=n})),e},addQuestionGroupAverages:function(e,t){return e.questionGroups=e.questionGroups.map((function(e){var t=e.questionGroupAttempts.reduce((function(e,t){return t.isCompleted&&(e.correct+=t.correct,e.total+=t.correct+t.incorrect+t.missed,e.completions+=1),e}),{correct:0,total:0,completions:0}),n=t.correct,a=t.total,r=t.completions,c=Math.round(n/a*100)/10;return c||(c=0),Object(i.a)(Object(i.a)({},e),{},{averageScore:c,completions:r})})),e},addQuestionGroupAttemptStats:function(e){var t=e.questionGroupAttempts.reduce((function(e,t){return t.isCompleted&&(e.elapsedTime+=t.timeElapsedSeconds,e.total+=1),e}),{elapsedTime:0,total:0}),n=t.elapsedTime,a=t.total;return e.averageElapsedTime=Math.round(n/a),e},addQuestionAttemptInformation:function(e){var t=e.questions[0].type;if(!t||"multipleChoice"!==t)return e;var n=[];e.questions.forEach((function(e){n.push(e.data.options)}));var a=0;return e.questionGroupAttempts.forEach((function(e){if(e.isCompleted){var t=e.lessonAttempts.student.name,r=e.lessonAttempts.student.id;e.questionAttempts.forEach((function(c){var s=0,o=0,i=0,u="",l=c.content;if(0!==l.length)for(var d=0;d<n[a%e.questionAttempts.length].length;d++){var j=n[a%e.questionAttempts.length][d].isCorrect,b=n[a%e.questionAttempts.length][d].value;l.includes(d)?(u+=b+", ",j?s+=1:o+=1):!l.includes(d)&&j&&(i+=1)}else i+=1;c.studentName=t,c.studentId=r,c.answer=u.slice(0,-2),c.correct=s,c.incorrect=o,c.missed=i})),a+=1}})),e}},mr=new(function(){function e(){var t=this;Object(D.a)(this,e),this.lesson=null,this.lessonAttempts=[],this.questionGroup=[],this.loading=0,this.popLoad=function(){return t.loading-=1},this.pushLoad=function(){return t.loading+=1},this.setlesson=function(e){return t.lesson=e},this.clearLesson=function(){return t.lesson=null},this.setlessonAttempts=function(e){return t.lessonAttempts=e},this.clearLessonAttempts=function(){return t.lessonAttempts=null},this.loadLesson=function(){var e=Object(C.a)(k.a.mark((function e(n){var a,r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=t.lesson)||void 0===a?void 0:a.id)!==n){e.next=2;break}return e.abrupt("return");case 2:return t.pushLoad(),e.next=5,se.loadLesson(n);case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return");case 8:c=fr.addQuestionGroupAverages(r.body.data,t.questionGroup),t.setlesson(c),t.popLoad();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.loadLessonAttempts=function(){var e=Object(C.a)(k.a.mark((function e(n){var a,r,c,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(a=t.lessonAttempts)||void 0===a?void 0:a.length)||(null===(r=t.lessonAttempts[0])||void 0===r?void 0:r.lessonId)!==n){e.next=2;break}return e.abrupt("return");case 2:return t.pushLoad(),e.next=5,se.loadLessonAttempts(n);case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return");case 8:s=c.body.data,s=fr.addDuration(s),s=fr.addPerformance(s),t.setlessonAttempts(s),t.popLoad();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(_.f)(this,{lesson:_.g,lessonAttempts:_.g,loading:_.g,loadLesson:_.b,loadLessonAttempts:_.b,questionGroup:_.g,popLoad:_.b,pushLoad:_.b,setlesson:_.b,setlessonAttempts:_.b,clearLesson:_.b,isLoading:_.c})}return Object(hr.a)(e,[{key:"isLoading",get:function(){return this.loading>0}}]),e}()),Or=new(function(){function e(){var t=this;Object(D.a)(this,e),this.questionGroup=null,this.questionAttempts=[],this.loading=0,this.popLoad=function(){return t.loading-=1},this.pushLoad=function(){return t.loading+=1},this.loadQuestionGroupWithAttempts=function(){var e=Object(C.a)(k.a.mark((function e(n){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pushLoad(),e.next=3,se.loadQuestionGroup(n);case 3:(a=e.sent)&&(r=a.body.data,r=fr.addQuestionGroupAttemptStats(r),r=fr.addQuestionAttemptInformation(r),t.questionGroup=r),t.popLoad();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.loadQuestionAttemptsWithInfo=function(){var e=Object(C.a)(k.a.mark((function e(n,a){var r,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pushLoad(),e.next=3,se.loadQuestionAttempts({studentId:n,lessonId:a});case 3:(r=e.sent)&&(c=r.body.data,c=fr.addInformation(c),t.questionAttempts=c),t.popLoad();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Object(_.f)(this,{questionGroup:_.g,questionAttempts:_.g,loading:_.g,popLoad:_.b,pushLoad:_.b,isLoading:_.c})}return Object(hr.a)(e,[{key:"isLoading",get:function(){return this.loading>0}}]),e}()),xr=new function e(){var t=this;Object(D.a)(this,e),this.accumulator=0,this.amountNotifications=0,this.notifications=[],this.pushAmountNotifications=function(){return t.amountNotifications+=1},this.popAmountNotifications=function(){return t.amountNotifications-=1},this.pushAccumulator=function(){return t.accumulator+=1},this.pushNotification=function(e){return t.notifications.push(e)},this.setAmountNotifications=function(e){return t.amountNotifications=e},this.setNotifications=function(e){return t.notifications=e},this.deleteNotification=function(e){t.notifications.splice(e,1),t.restoreIndices()},this.restoreIndices=function(){for(var e=t.notifications,n=0;n<t.notifications.length;n++)e[n].index=n;t.setNotifications(e)},Object(_.f)(this,{accumulator:_.g,pushAccumulator:_.b,amountNotifications:_.g,pushNotification:_.b,notifications:_.g,setNotifications:_.b,setAmountNotifications:_.b,pushAmountNotifications:_.b,popAmountNotifications:_.b,deleteNotification:_.b})},gr=new(function(){function e(){var t=this;Object(D.a)(this,e),this.students=null,this.topResults=[],this.bottomResults=[],this.popLoad=function(){return t.loading-=1},this.pushLoad=function(){return t.loading+=1},this.setTopResults=function(e){return t.topResults=e},this.setBottomResults=function(e){return t.bottomResults=e},this.loadStudents=function(){var e=Object(C.a)(k.a.mark((function e(n){var a,r,c,s,o,i,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pushLoad(),e.next=3,se.loadStudents(n);case 3:(a=e.sent)&&(t.students=a.body.data),r=t.computeDistribution(t.students),c=Object(N.a)(r,2),s=c[0],o=c[1],i=t.computeTop(s,o.sort(),Math.round(.25*o.length)),u=t.computeBottom(s,o.sort(),Math.round(.25*o.length),a.body.data),t.setTopResults(i),t.setBottomResults(u),t.popLoad();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.computeDistribution=function(e){var t=Array(e.length).fill(0),n=[],a=Array(e.length).fill(0),r=0;return e.forEach((function(e,c){n.push({name:e.name,id:e.id}),e.lessonAttempts.forEach((function(e){e.questionGroupAttempts.forEach((function(e,n){0===e.correct&&0===e.incorrect&&0===e.missed||!e.isCompleted||(r+=e.correct+e.incorrect+e.missed,t[n]+=Math.round(e.correct/r*100),a[n]+=(e.incorrect+e.missed)/r)}))}))})),[n,t,a]},this.computeTop=function(e,t,n){return[t.slice(t.length-n,t.length),e.slice(e.length-n,e.length)]},this.computeBottom=function(e,n,a,r){var c=n.slice(0,a),s=e.slice(0,a);return t.updateBottomStudents(r,s),[c,s]},this.updateBottomStudents=function(e,n){e.forEach((function(e){n.forEach((function(t){e.id===t.id&&(e.bottom=!0)})),e.bottom||(e.bottom=!1)})),t.students=e},Object(_.f)(this,{topResults:_.g,students:_.g,bottomResults:_.g,loadStudents:_.b,setTopResults:_.b,setBottomResults:_.b,popLoad:_.b,pushLoad:_.b,isLoading:_.c})}return Object(hr.a)(e,[{key:"isLoading",get:function(){return this.loading>0}}]),e}());m.defaults.global.plugins.colorschemes.scheme=O.a,x();var vr=Object(d.a)((function(e){return{root:{display:"flex"}}})),wr=function(e){return Object(a.jsx)(h.a,Object(i.a)({elevation:6,variant:"filled"},e))},yr=Object(f.a)((function(e){var t=e.authStore;return Object(a.jsx)(p.a,{open:!!t.error,children:Object(a.jsx)(wr,{severity:"warning",children:t.error})})})),kr=Object(f.a)((function(e){var t=e.authStore;return Object(a.jsx)(p.a,{open:!!t.success,children:Object(a.jsx)(wr,{severity:"success",children:t.success})})})),Cr=function(){return Object(a.jsx)(pr,{authStore:Q})},Nr=function(){var e=vr();return Object(a.jsx)(j.a,{theme:v,children:Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(u.a,{children:[Object(a.jsx)(b.a,{}),Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/",exact:!0,component:Cr}),Object(a.jsx)(l.b,{path:"/dashboard",component:function(e){return Object(a.jsx)(sr,Object(i.a)({authStore:Q,lessonStore:mr,questionStore:Or,notificationStore:xr,studentStore:gr},e))}})]})]}),Object(a.jsx)(yr,{authStore:Q}),Object(a.jsx)(kr,{authStore:Q})]})})};o.a.render(Object(a.jsx)(Nr,{}),document.getElementById("root"))}},[[379,1,2]]]);
//# sourceMappingURL=main.f2216f36.chunk.js.map