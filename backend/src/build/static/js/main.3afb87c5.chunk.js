(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{470:function(e,t){},471:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(27),o=n.n(s),i=n(16),u=n(36),l=n(43),d=n(69),j=n(535),b=n(568),p=n(578),m=n(573),h=n(37),f=n(49),O=n(255),x=(n(237),function(){var e=f.Chart.controllers.doughnut.prototype.draw;f.Chart.helpers.extend(f.Chart.controllers.doughnut.prototype,{draw:function(){if(e.apply(this,arguments),this.chart.config.options.elements.center){var t=this.chart.chart,n=this.chart.config.options.elements.center,r=n.text,a=n.color,c=t.ctx,s=t.width,o=t.height,i=(o/114).toFixed(2);c.font=i+"em Verdana",c.textBaseline="middle",c.fillStyle=a;var u=Math.round((s-c.measureText(r).width)/2),l=o/2;c.fillText(r,u,l)}}})}),g=n(113),v=Object(g.a)({widget:{primary:{main:"#729ece"},secondary:{main:"#ff9e4a"},tertiary:{main:"#67bf5c"}},statistics:{red:{main:"#d64238"},green:{main:"#36d41e"},orange:{main:"#f58220"}}}),w=n(169),y=n(12),k=n.n(y),C=n(18),N=n(13),S=n(39),I=n(541),q=n(122),A=n(483),G=n(48),L=n(159),T=n.n(L),_=n(160),E=n.n(_),R=n(90),B=function(e){return Object(r.jsx)(R.a,{component:"h2",variant:"h6",style:{color:e.color,textAlign:"center"},gutterBottom:!0,children:e.children})},W=n(51),z=n.n(W),M=n(50),D=n(17),F=n(158),Q=n.n(F),H=n(258),V=n(67),P={addDuration:function(e){return e.map((function(e){var t=e.questionGroupAttempts.reduce((function(e,t){return e+t.timeElapsedSeconds}),0);return e.duration=Math.round(t/60),e}))},addPerformance:function(e){return e.map((function(e){var t=e.questionGroupAttempts.reduce((function(e,t){return e.correct+=t.correct,e.incorrect+=t.incorrect+t.missed,e}),{correct:0,incorrect:0}),n=t.correct,r=t.incorrect;e.correct=n,e.incorrect=r;var a=n+r,c=Math.min(Math.round(9*(n/a||0)+1),10);return e.performance=c,e}))},addInformation:function(e){return e.forEach((function(e){var t=[],n="",r=0,a=0,c=0,s=[];"multipleChoice"===e.question.type?(e.question.data.options.forEach((function(e,n){t.push(e.value),e.isCorrect&&s.push(n)})),e.content!==[]?(e.content.forEach((function(e,c){s.includes(e)?r+=1:a+=1,n+=t[c]})),c+=s.length-e.content.length):(n=e.content,r=a=c=0)):n=e.content,e.correct=r,e.incorrect=a,e.missed=c,e.answer=n})),e},addQuestionGroupAverages:function(e,t){return e.questionGroups=e.questionGroups.map((function(e){var t=e.questionGroupAttempts.reduce((function(e,t){return t.isCompleted&&(e.correct+=t.correct,e.total+=t.correct+t.incorrect+t.missed,e.completions+=1,e.elapsedTime+=t.timeElapsedSeconds),e}),{correct:0,total:0,completions:0,elapsedTime:0}),n=t.correct,r=t.total,a=t.completions,c=t.elapsedTime,s=Math.round(n/r*100)/10;s||(s=0);var o=Math.round(c/a);return o||(o=0),Object(i.a)(Object(i.a)({},e),{},{averageScore:s,completions:a,averageElapsedTime:o})})),e},addQuestionGroupAttemptStats:function(e){var t=e.questionGroupAttempts.reduce((function(e,t){return t.isCompleted&&(e.elapsedTime+=t.timeElapsedSeconds,e.total+=1),e}),{elapsedTime:0,total:0}),n=t.elapsedTime,r=t.total;return e.averageElapsedTime=Math.round(n/r),e},addQuestionAttemptInformation:function(e){var t=e.questions[0].type;if(!t||"multipleChoice"!==t)return e;var n=[];e.questions.forEach((function(e){n.push(e.data.options)}));var r=0;return e.questionGroupAttempts.forEach((function(e){if(e.isCompleted){var t=e.lessonAttempts.student.name,a=e.lessonAttempts.student.id;e.questionAttempts.forEach((function(c){var s=0,o=0,i=0,u="",l=c.content;if(0!==l.length)for(var d=0;d<n[r%e.questionAttempts.length].length;d++){var j=n[r%e.questionAttempts.length][d].isCorrect,b=n[r%e.questionAttempts.length][d].value;l.includes(d)?(u+=b+", ",j?s+=1:o+=1):!l.includes(d)&&j&&(i+=1)}else i+=1;c.studentName=t,c.studentId=a,c.answer=u.slice(0,-2),c.correct=s,c.incorrect=o,c.missed=i})),r+=1}})),e},convertCategoryToString:function(e){switch(e){case"learning_process":return"Leerproces";case"recognizing_morphemes_sentence":return"Herkennen morfemen in een zin";case"meaning_morphemes":return"Betekenis morfemen";case"splitsing_morphemes":return"Splits morfemen";case"create_morphemes_prefix":return"Cre\xebren morfemen (voorvoegsel)";case"background_morphemes":return"Alternatieve betekenis morfemen";case"recognizing_morphemes_text":return"Herkennen morfemen in een tekst";case"intuition":return"Intu\xeftie";case"create_alternative_morphemes":return"Cre\xebren alternatieve morfemen";case"create_morphemes_suffix":return"Cre\xebren morfemen (achtervoegsel)";case"create_new_morphemes":return"Cre\xebren nieuwe morfemen";default:return null}}},$=new(function(){function e(){var t=this;Object(M.a)(this,e),this.lesson=null,this.lessonAttempts=[],this.questionGroup=[],this.loading=0,this.popLoad=function(){return t.loading-=1},this.pushLoad=function(){return t.loading+=1},this.setlesson=function(e){return t.lesson=e},this.clearLesson=function(){return t.lesson=null},this.setlessonAttempts=function(e){return t.lessonAttempts=e},this.clearLessonAttempts=function(){return t.lessonAttempts=null},this.loadLesson=function(){var e=Object(C.a)(k.a.mark((function e(n){var r,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(r=t.lesson)||void 0===r?void 0:r.id)!==n){e.next=2;break}return e.abrupt("return");case 2:return t.pushLoad(),e.next=5,fe.loadLesson(n);case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return");case 8:c=P.addQuestionGroupAverages(a.body.data,t.questionGroup),t.setlesson(c),t.popLoad();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.refreshLessonAttempts=Object(C.a)(k.a.mark((function e(){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("GONNA REFRESH"),t.lessonAttempts.length){e.next=4;break}return console.log("no lesson attempts, returning"),e.abrupt("return");case 4:if(r=null===(n=t.lessonAttempts[0])||void 0===n?void 0:n.lessonId){e.next=8;break}return console.log("no lesson id to refresh, returning"),e.abrupt("return");case 8:return console.log("refreshing",r),e.next=11,t.loadLessonAttempts(r,!0);case 11:case"end":return e.stop()}}),e)}))),this.loadLessonAttempts=function(){var e=Object(C.a)(k.a.mark((function e(n){var r,a,c,s,o,i=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=i.length>1&&void 0!==i[1]&&i[1],!(null===(r=t.lessonAttempts)||void 0===r?void 0:r.length)||(null===(a=t.lessonAttempts[0])||void 0===a?void 0:a.lessonId)!==n||c){e.next=3;break}return e.abrupt("return");case 3:return t.pushLoad(),e.next=6,fe.loadLessonAttempts(n);case 6:if(s=e.sent){e.next=9;break}return e.abrupt("return");case 9:o=s.body.data,o=P.addDuration(o),o=P.addPerformance(o),t.setlessonAttempts(o),t.popLoad();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onNewQuestionAttempts=function(e){console.log("NEW",e)},Object(D.f)(this,{lesson:D.g,lessonAttempts:D.g,loading:D.g,loadLesson:D.b,loadLessonAttempts:D.b,refreshLessonAttempts:D.b,questionGroup:D.g,popLoad:D.b,pushLoad:D.b,setlesson:D.b,setlessonAttempts:D.b,clearLesson:D.b,isLoading:D.c})}return Object(V.a)(e,[{key:"isLoading",get:function(){return this.loading>0}}]),e}()),J=new function e(){var t=this;Object(M.a)(this,e),this.accumulator=0,this.amountNotifications=0,this.notifications=[],this.pushAmountNotifications=function(){return t.amountNotifications+=1},this.popAmountNotifications=function(){return t.amountNotifications-=1},this.pushAccumulator=function(){return t.accumulator+=1},this.pushNotification=function(e){return t.notifications.push(e)},this.setAmountNotifications=function(e){return t.amountNotifications=e},this.setNotifications=function(e){return t.notifications=e},this.deleteNotification=function(e){t.notifications.splice(e,1),t.restoreIndices()},this.restoreIndices=function(){for(var e=t.notifications,n=0;n<t.notifications.length;n++)e[n].index=n;t.setNotifications(e)},Object(D.f)(this,{accumulator:D.g,pushAccumulator:D.b,amountNotifications:D.g,pushNotification:D.b,notifications:D.g,setNotifications:D.b,setAmountNotifications:D.b,pushAmountNotifications:D.b,popAmountNotifications:D.b,deleteNotification:D.b})},K=Object(H.io)({auth:{token:Q.a.get("token")}}),U=function(e,t){K.on(e,t),console.info("Socket started listening to ".concat(e))};U("connect",(function(){return console.info("Socket connected")})),U("reconnect",(function(){return console.info("Socket reconnected")})),U("disconnect",(function(){return console.info("Socket disconnected")})),U("newQuestionAttempts",$.refreshLessonAttempts),U("notification",(function(e){J.pushNotification({id:e.message,category:"classes",path:e.path,value:e.message,index:J.notifications.length})}));var Y={subscribe:U,unsubscribe:function(e){K.off(e),console.info("Socket stopped listening to ".concat(e))},disconnect:function(){K.disconnect(),console.log("Socket disconnected")},connect:function(){K.connect(),console.log("Socket connected")},isConnected:function(){return K.connected}},X=Y,Z=new function e(){var t=this;Object(M.a)(this,e),this.error=null,this.success=null,this.setError=function(e){t.error=e,setTimeout((function(){t.error=null}),4e3)},this.setSuccess=function(e){t.success=e,setTimeout((function(){t.success=null}),4e3)},this.login=function(){var e=Object(C.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.login(t,n);case 2:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return X.connect(),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.logout=function(){Q.a.remove("token"),X.disconnect()},Object(D.f)(this,{error:D.g,success:D.g,login:D.b,logout:D.b,setError:D.b})},ee=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),Z.setError("Er is iets mis gegaan: ".concat((null===(r=e.t0.response.body)||void 0===r?void 0:r.message)||(null===(a=e.t0.response.body)||void 0===a?void 0:a.error)||e.t0.response.error||"server error")),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/students").query(t),e.next=3,ee(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/classes/".concat(t)),e.next=3,ee(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/courses").query(t),e.next=3,ee(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(C.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=z.a.get("/api/v1/classes"),e.next=3,ee(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/lessonAttempts").query({lessonId:t}),e.next=3,ee(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/questionAttempts/".concat(t)),e.next=3,ee(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/lessons/".concat(t)),e.next=3,ee(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(C.a)(k.a.mark((function e(t,n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z.a.post("/api/v1/auth/login").send({email:t,password:n}),e.next=3,ee(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/students/".concat(t)),e.next=3,ee(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.studentId,r=t.lessonId,a=z.a.get("/api/v1/questionAttempts").query({studentId:n,lessonId:r}),e.next=4,ee(a);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.questionGroupId,r=t.pageSize,a=z.a.get("/api/v1/questionGroupAttempts").query({questionGroupId:n,pageSize:r}),e.next=4,ee(a);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/questionGroup/").query({ids:JSON.stringify(t)}),e.next=3,ee(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/classes/".concat(t,"/categories")),e.next=3,ee(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=Object(C.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z.a.get("/api/v1/students/".concat(t,"/categories")),e.next=3,ee(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(C.a)(k.a.mark((function e(t,n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z.a.patch("/api/v1/question/".concat(t)).send({data:n}),e.next=3,ee(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he={loadStudents:te,loadStudent:ue,loadClass:ne,loadCourses:re,loadClasses:ae,loadLessonAttempts:ce,loadQuestionAttempts:le,loadQuestionAttemptsID:se,loadLesson:oe,login:ie,loadQuestionGroupAttempts:de,loadQuestionGroups:je,loadLessonCategories:be,loadStudentCategories:pe,updateQuestion:me},fe=he,Oe=n(540),xe=Object(d.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}})),ge=function(e){var t=e.children,n=xe();return Object(r.jsx)(Oe.a,{maxWidth:"lg",className:n.container,children:t})},ve=[{field:"updatedAt",headerName:"Datum",flex:.2,renderCell:function(e){return t=e.row.updatedAt,"".concat(t.substring(0,10)," ").concat(t.substring(11,19));var t}},{field:"student",headerName:"Leerling",flex:.2,valueGetter:function(e){return e.row.lessonAttempts.student.name}},{field:"lesson",headerName:"Les",flex:.2,valueGetter:function(e){return e.row.QuestionGroup.lesson.prefix}},{field:"question",headerName:"Vraag",flex:.2,valueGetter:function(e){return e.row.QuestionGroup.index+1}},{field:"isCompleted",headerName:"Voltooid",flex:.2,renderCell:function(e){return e.row.isCompleted?Object(r.jsx)(T.a,{}):Object(r.jsx)(E.a,{})}}],we=Object(d.a)((function(e){return{datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),ye=function(e){var t=we(),n=Object(l.g)(),c=Object(a.useState)([]),s=Object(N.a)(c,2),o=s[0],i=s[1],u=Object(a.useState)(!1),d=Object(N.a)(u,2),j=d[0],b=d[1],p=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,fe.loadQuestionGroupAttempts({pageSize:10});case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:i(t.body.data),b(!1);case 8:case"end":return e.stop()}}),e)}))),[]);if(Object(a.useEffect)((function(){return p(),function(){i([])}}),[p]),j)return Object(r.jsx)(A.a,{});return Object(r.jsxs)(ge,{children:[Object(r.jsx)(B,{children:"Recente leerlingen activiteit"}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(G.a,{className:t.datagrid,autoHeight:!0,rows:o,columns:ve,pageSize:5,onRowClick:function(e){return n.push("/dashboard/students/".concat(e.row.lessonAttempts.student.id))}})})]})},ke=n(542),Ce=n(544),Ne=n(543),Se=Object(d.a)((function(e){return{widget:{height:150,padding:e.spacing(3),color:"white",display:"flex",flexDirection:"column",justifyContent:"center"},widgetLeft:{textAlign:"right",fontWeight:400},widgetRight:{textAlign:"left",fontWeight:100}}})),Ie=function(e){var t=Se();return Object(r.jsx)(I.a,{item:!0,xs:12,md:4,children:Object(r.jsx)(ke.a,{style:{backgroundColor:e.color},children:Object(r.jsx)(Ne.a,{onClick:e.onClick,children:Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(I.a,{container:!0,spacing:3,className:t.widget,children:[Object(r.jsx)(I.a,{item:!0,xs:6,children:Object(r.jsx)(R.a,{variant:"h2",className:t.widgetLeft,children:e.left})}),Object(r.jsx)(I.a,{item:!0,xs:6,children:Object(r.jsx)(R.a,{variant:"h5",className:t.widgetRight,children:e.right})})]})})})})})},qe=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),Ae=function(e){var t=qe(),n=Object(S.a)(),a=e.title,c=e.data,s=e.options,o=e.titleColor,i=o||n.widget.primary.main;return Object(r.jsx)(I.a,{item:!0,xs:12,md:4,children:Object(r.jsxs)(q.a,{className:t.paper,children:[Object(r.jsx)(B,{color:i,children:a}),Object(r.jsx)(f.Doughnut,{data:c,options:s})]})})},Ge=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),Le=function(e){var t=Object(S.a)(),n=Ge(),c=Object(l.g)(),s=Object(a.useState)([]),o=Object(N.a)(s,2)[1],i=Object(a.useState)(!1),u=Object(N.a)(i,2),d=u[0],j=u[1],b=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,fe.loadClasses();case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:o(t.body.data),j(!1);case 8:case"end":return e.stop()}}),e)}))),[]);if(Object(a.useEffect)((function(){b()}),[b]),d)return Object(r.jsx)(A.a,{});var p=function(e){var t=e.color,n=e.variant;return{datasets:[{data:[100-25*n,25*n],backgroundColor:["rgb(0, 0, 0, 0)",t]}]}},m=function(e){var t=e.color;return{cutoutPercentage:75,tooltips:{enabled:!1},hover:{mode:null},responsive:!0,elements:{center:{text:e.text,color:t||"#FFFFFF"}}}};return Object(r.jsx)(ge,{children:Object(r.jsxs)(I.a,{container:!0,spacing:3,children:[Object(r.jsx)(Ie,{left:6,right:"lessen",color:t.widget.primary.main,onClick:function(){return c.push("/dashboard/lessons")}}),Object(r.jsx)(Ie,{left:206,right:"leerlingen",color:t.widget.secondary.main,onClick:function(){return c.push("/dashboard/students")}}),Object(r.jsx)(Ie,{left:25,right:"na te kijken opdrachten",color:t.widget.tertiary.main,onClick:function(){return c.push("/dashboard/tasks")}}),Object(r.jsx)(Ae,{title:"Gemiddelde correctheid",data:p({color:t.widget.primary.main,variant:1}),options:m({color:t.widget.primary.main,text:"25%"})}),Object(r.jsx)(Ae,{title:"Gemiddelde voortgang",data:p({color:t.widget.secondary.main,variant:2}),options:m({color:t.widget.secondary.main,text:"50%"})}),Object(r.jsx)(Ae,{title:"Opdrachten nagekeken",data:p({color:t.widget.tertiary.main,variant:3}),options:m({color:t.widget.tertiary.main,text:"75%"})}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(q.a,{className:n.paper,children:Object(r.jsx)(ye,{})})})]})})},Te=n(579),_e=n(545),Ee=n.p+"static/media/bartVis.cee2b69e.png",Re=Object(d.a)((function(e){return{avatar:{width:e.spacing(24),height:e.spacing(24)},email:{color:"blue",fontWeight:"bold"}}})),Be=function(e){var t=Re();return Object(r.jsxs)(I.a,{container:!0,children:[Object(r.jsx)(I.a,{item:!0,xs:12,lg:3,children:Object(r.jsx)(Te.a,{src:Ee,className:t.avatar})}),Object(r.jsxs)(I.a,{item:!0,xs:12,lg:9,children:[Object(r.jsx)(R.a,{variant:"h3",children:"Bert Vis"}),Object(r.jsx)(_e.a,{href:"mailto:".concat("b.vis@outlook.com"),onClick:function(e){return e.preventDefault()},children:Object(r.jsx)(R.a,{className:t.email,style:{display:"inline-block",marginRight:8},children:"b.vis@outlook.com"})}),Object(r.jsx)(R.a,{style:{display:"inline-block"},children:"- Docent"})]})]})},We=n(546),ze=n(290),Me=Object(d.a)((function(e){return{root:{padding:e.spacing(4,4,0,4)},divider:{marginTop:e.spacing(4),marginBottom:e.spacing(4)},account:{margin:e.spacing(4)},label:{height:"100%",display:"flex",alignItems:"center"},header:{fontWeight:"bold"}}})),De=function(e){var t=Me();return Object(r.jsx)(I.a,{container:!0,children:Object(r.jsxs)(I.a,{item:!0,xs:12,className:t.divider,children:[Object(r.jsx)(R.a,{variant:"h5",className:t.header,children:"Account Informatie"}),Object(r.jsx)(We.a,{}),Object(r.jsxs)(I.a,{container:!0,className:t.account,children:[Object(r.jsx)(I.a,{item:!0,xs:12,md:3,children:Object(r.jsx)(R.a,{className:t.label,children:"Gebruikersnaam"})}),Object(r.jsx)(I.a,{item:!0,xs:12,md:9,children:Object(r.jsx)(ze.a,{disabled:!0,value:"bertvis1971",className:t.fullWidth})})]}),Object(r.jsxs)(I.a,{container:!0,className:t.account,children:[Object(r.jsx)(I.a,{item:!0,xs:12,md:3,children:Object(r.jsx)(R.a,{className:t.label,children:"E-mailadres"})}),Object(r.jsx)(I.a,{item:!0,xs:12,md:9,children:Object(r.jsx)(ze.a,{disabled:!0,value:"b.vis@outlook.com",className:t.fullWidth})})]}),Object(r.jsxs)(I.a,{container:!0,className:t.account,children:[Object(r.jsx)(I.a,{item:!0,xs:12,md:3,children:Object(r.jsx)(R.a,{className:t.label,children:"Wachtwoord"})}),Object(r.jsx)(I.a,{item:!0,xs:12,md:9,children:Object(r.jsx)(ze.a,{disabled:!0,type:"password",value:"superuser",className:t.fullWidth})})]})]})})},Fe=Object(d.a)((function(e){return{root:{padding:e.spacing(4,4,0,4)}}})),Qe=function(e){var t=Fe();return Object(r.jsx)(ge,{children:Object(r.jsxs)(q.a,{className:t.root,children:[Object(r.jsx)(Be,{}),Object(r.jsx)(De,{})]})})},He=n(552),Ve=n(572),Pe=n(553),$e=n(260),Je=n.n($e),Ke=n(261),Ue=n.n(Ke),Ye=n(118),Xe=n.n(Ye),Ze=Object(d.a)((function(e){return{paperheader:{textAlign:"center",color:"white",borderBottomLeftRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:4,borderTopRightRadius:4},papercontent:{borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopLeftRadius:0,borderTopRightRadius:0}}})),et=function(e){var t=Ze();return Object(r.jsxs)(I.a,{item:!0,xs:12,md:6,children:[Object(r.jsx)(q.a,{className:t.paperheader,style:{backgroundColor:e.headercolor},children:Object(r.jsx)(R.a,{children:e.headertitle})}),Object(r.jsx)(q.a,{className:t.papercontent,style:e.height?{height:e.height}:{},children:e.children})]})},tt=n(547),nt=n(570),rt=function(e){var t=Math.floor(255*(e<=50?e/50:(100-e)/50)),n=(e<=50?[255,t,0]:[t,255,0]).map((function(e){return Math.round(.8*e)}));return"rgb(".concat(n.join(","),")")},at=Object(d.a)((function(e){return{root:{height:20,borderRadius:5,margin:e.spacing(1)},bar:function(e){return{borderRadius:5,backgroundColor:rt(e.value)}},colorPrimary:{backgroundColor:"#DDDDDD"}}})),ct=function(e){var t=at(e);return Object(r.jsxs)(nt.a,{children:[Object(r.jsx)(R.a,{children:e.title}),Object(r.jsxs)(nt.a,{display:"flex",alignItems:"center",children:[Object(r.jsx)(nt.a,{width:"100%",mr:1,children:Object(r.jsx)(tt.a,Object(i.a)({variant:"determinate",classes:{root:t.root,colorPrimary:t.colorPrimary,bar:t.bar}},e))}),Object(r.jsx)(nt.a,{minWidth:35,children:Object(r.jsx)(R.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})]})},st=Object(d.a)((function(e){return{widget:{padding:e.spacing(3)},paper:{borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopLeftRadius:0,borderTopRightRadius:0,height:230,padding:e.spacing(3)}}})),ot=[{field:"student",headerName:"Naam",flex:.65,valueGetter:function(e){return e.row.name}},{field:"correctness",headerName:"Gem. correctheid",flex:.5,valueGetter:function(e){return e.row.correctness}}],it=function(e){return{learning_process:"Leerproces",recognizing_morphemes_sentence:"Herkennen morfemen in een zin",meaning_morphemes:"Betekenis morfemen",splitsing_morphemes:"Splits morfemen",create_morphemes_prefix:"Cre\xebren morfemen (voorvoegsel)",background_morphemes:"Alternatieve betekenis morfemen",recognizing_morphemes_text:"Herkennen morfemen in een tekst",intuition:"Intu\xeftie",create_alternative_morphemes:"Cre\xebren alternatieve morfemen",create_morphemes_suffix:"Cre\xebren morfemen (achtervoegsel)",create_new_morphemes:"Cre\xebren nieuwe morfemen"}[e]},ut=function(e){var t=e.topResults,n=e.bottomResults,a=e.categories,c=st(),s=Object(S.a)();return Object(r.jsxs)(ge,{children:[Object(r.jsxs)(I.a,{container:!0,spacing:2,className:c.widget,children:[Object(r.jsx)(et,{headercolor:s.widget.primary.main,headertitle:"Ondergemiddelde prestaties",height:370,children:Object(r.jsx)(G.a,{pageSize:5,rows:n,columns:ot,sortModel:[{field:"correctness",sort:"asc"}]})}),Object(r.jsx)(et,{headercolor:s.widget.primary.main,headertitle:"Bovengemiddelde prestaties",height:370,children:Object(r.jsx)(G.a,{rows:t,pageSize:5,sortModel:[{field:"correctness",sort:"desc"}],columns:ot})})]}),Object(r.jsxs)(I.a,{container:!0,spacing:3,className:c.widget,children:[Object(r.jsx)(et,{headercolor:s.widget.secondary.main,headertitle:"Probleemcategorie\xebn",children:Object(r.jsx)(q.a,{className:c.paper,children:a.slice(0,3).map((function(e,t){return Object(r.jsx)(ct,{title:"".concat(t+1,". ").concat(it(e.key)),value:e.correctness},e.key)}))})}),Object(r.jsx)(et,{headercolor:s.widget.secondary.main,headertitle:"Topcategorie\xebn",children:Object(r.jsx)(q.a,{className:c.paper,children:a.slice(-3).map((function(e,t){return Object(r.jsx)(ct,{title:"".concat(t+1,". ").concat(it(e.key)),value:e.correctness},e.key)}))})})]})]})},lt=n(478),dt=n(574),jt=n(479),bt=n(549),pt=n(550),mt=n(99),ht=n(548),ft=n(117),Ot=n.n(ft),xt=Object(d.a)((function(e){return{}})),gt=function(e){var t=e.name,n=e.lessons,a=xt(),c=Object(l.g)(),s=Object(l.h)(),o=function(e){return c.push("".concat(s.pathname,"/lessons/").concat(e,"/lesson_insights"))};return Object(r.jsx)(lt.a,{subheader:Object(r.jsx)(ht.a,{component:"div",id:"nested-list-subheader",children:t}),children:n.map((function(e){return Object(r.jsxs)(jt.a,{component:"div",alignItems:"flex-start",button:!0,onClick:function(){return o(e.id)},children:[Object(r.jsx)(bt.a,{primary:"".concat(e.prefix," - ").concat(e.name),secondary:Object(r.jsx)(R.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary"})}),Object(r.jsx)(pt.a,{children:Object(r.jsx)(mt.a,{edge:"end","aria-label":"comments",onClick:function(){return o(e.id)},children:Object(r.jsx)(Ot.a,{})})})]},e.id)}))})},vt=Object(d.a)((function(e){return{marginBottom:{marginBottom:"1rem"},pagination:{margin:"1rem auto"}}})),wt=function(e){var t=e.courses,n=vt(),c=Object(a.useState)(null),s=Object(N.a)(c,2),o=s[0],u=s[1],l=Object(a.useState)(""),d=Object(N.a)(l,2),j=d[0],b=d[1],p=o?[o]:t;return Object(r.jsx)(I.a,{container:!0,spacing:2,children:Object(r.jsxs)(I.a,{item:!0,xs:12,children:[Object(r.jsx)(R.a,{variant:"h5",className:n.marginBottom,children:"Lessen"}),Object(r.jsx)(dt.a,{value:o,onChange:function(e,t){u(t)},inputValue:j,onInputChange:function(e,t){b(t)},options:t,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(r.jsx)(ze.a,Object(i.a)(Object(i.a)({},e),{},{label:"Les zoeken",variant:"outlined"}))}}),Object(r.jsx)(We.a,{style:{margin:"1rem 0"}}),Object(r.jsx)(q.a,{children:Object(r.jsx)(lt.a,{className:n.root,children:p.map((function(e){return Object(r.jsx)(gt,Object(i.a)({},e),e.id)}))})})]})})},yt=n(482),kt=n(551),Ct=n(259),Nt=n.n(Ct),St=Object(d.a)((function(e){return{}})),It=function(e){return e?Object(r.jsx)(Nt.a,{style:{color:"orange"}}):null},qt=function(e){var t=e.id,n=e.name,a=e.email,c=e.onClick,s=e.isBottom,o=St();return Object(r.jsxs)(jt.a,{component:"div",alignItems:"flex-start",button:!0,style:{alignItems:"center"},onClick:c,children:[Object(r.jsx)(yt.a,{children:It(s)})," ",Object(r.jsx)(kt.a,{children:Object(r.jsx)(Te.a,{alt:"Travis Howard"})}),Object(r.jsx)(bt.a,{primary:n,secondary:Object(r.jsx)(R.a,{component:"span",variant:"body2",className:o.inline,color:"textPrimary",children:a||"geen email"})}),Object(r.jsx)(pt.a,{children:Object(r.jsx)(mt.a,{edge:"end","aria-label":"comments",children:Object(r.jsx)(Ot.a,{})})})]},t)},At=n(571),Gt=Object(d.a)((function(e){return{marginTop:{marginTop:"1rem"},marginBottom:{marginBottom:"1rem"}}})),Lt=function(e){var t=e.students,n=Gt(),c=Object(l.g)(),s=Object(a.useState)(0),o=Object(N.a)(s,2),u=o[0],d=o[1],j=Object(a.useState)(null),b=Object(N.a)(j,2),p=b[0],m=b[1],h=Object(a.useState)(""),f=Object(N.a)(h,2),O=f[0],x=f[1],g=20*u,v=p?[p]:t.slice(g,g+20);return Object(r.jsx)(I.a,{container:!0,spacing:2,children:Object(r.jsxs)(I.a,{item:!0,xs:12,children:[Object(r.jsx)(R.a,{variant:"h5",className:n.marginBottom,children:"Leerlingen"}),Object(r.jsx)(dt.a,{value:p,onChange:function(e,t){m(t)},inputValue:O,onInputChange:function(e,t){x(t)},options:t,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(r.jsx)(ze.a,Object(i.a)(Object(i.a)({},e),{},{label:"Leerling zoeken",variant:"outlined"}))}}),Object(r.jsx)(We.a,{style:{margin:"1rem 0"}}),Object(r.jsx)(q.a,{children:Object(r.jsx)(lt.a,{className:n.root,children:v.map((function(e){return Object(r.jsx)(qt,Object(i.a)(Object(i.a)({},e),{},{isBottom:e.bottom,onClick:function(){return t=e.id,c.push("/dashboard/students/".concat(t));var t}}),e.id)}))})}),p?null:Object(r.jsx)(At.a,{className:n.marginTop,count:Math.ceil(t.length/20),color:"primary",onChange:function(e,t){d(t-1)}})]})})},Tt=function(e){var t=e.value,n=e.index,r=e.children;return t!==n?null:r},_t=n(577),Et=function(e){var t=e.crumbs,n=Object(l.g)();return Object(r.jsxs)(_t.a,{"aria-label":"breadcrumb",style:{marginBottom:"1rem"},children:[Object(r.jsx)(R.a,{variant:"body2",children:"Locatie:"}),t.map((function(e){return Object(r.jsx)(_e.a,{component:"button",color:"inherit",onClick:function(t){return function(e,t){e.preventDefault(),n.push(t.path)}(t,e)},children:e.name},e.path)}))]})},Rt=Object(d.a)((function(e){return{marginBottom:{marginBottom:"1rem"},pagination:{margin:"1rem auto"}}})),Bt=Object(h.a)((function(e){var t=e.crumbs,n=e.studentStore,c=Rt(),s=Object(l.g)(),o=Object(l.i)(),i=Object(l.h)(),u=Object(a.useState)(!1),d=Object(N.a)(u,2),j=d[0],b=d[1],p=Object(a.useState)([]),m=Object(N.a)(p,2),h=m[0],f=m[1],O=Object(a.useState)([]),x=Object(N.a)(O,2),g=x[0],v=x[1],w=Object(a.useState)([]),y=Object(N.a)(w,2),S=y[0],q=y[1],G=o.classId,L=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadStudents({classId:G});case 2:case"end":return e.stop()}}),e)}))),[n,G]),T=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.loadClass(o.classId);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:f(t.body.data);case 6:case"end":return e.stop()}}),e)}))),[o.classId]),_=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.loadCourses({classId:G});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:v(t.body.data);case 6:case"end":return e.stop()}}),e)}))),[G]),E=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.loadLessonCategories(G);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:q(t.body.data);case 6:case"end":return e.stop()}}),e)}))),[G]),B=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),t=[L(),_(),T(),E()],e.next=4,Promise.all(t);case 4:b(!1);case 5:case"end":return e.stop()}}),e)}))),[T,L,_,E]);return Object(a.useEffect)((function(){B(),X.subscribe("newQuestionAttempts_temp",(function(){B()}))}),[B]),j||n.isLoading?Object(r.jsx)(A.a,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(He.a,{position:"static",children:Object(r.jsxs)(Ve.a,{value:o.classTab,onChange:function(e,t){var n=o.classTab,r=i.pathname.replace(n,t);s.push(r)},children:[Object(r.jsx)(Pe.a,{label:"Inzicht (klas)",value:"class_insights",icon:Object(r.jsx)(Xe.a,{})}),Object(r.jsx)(Pe.a,{label:"Lessen",value:"class_lessons",icon:Object(r.jsx)(Je.a,{})}),Object(r.jsx)(Pe.a,{label:"Leerlingen",value:"class_students",icon:Object(r.jsx)(Ue.a,{})})]})}),Object(r.jsxs)(ge,{children:[Object(r.jsx)(Et,{crumbs:t}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(R.a,{variant:"h4",className:c.marginBottom,children:h.name})}),Object(r.jsx)(Tt,{index:"class_insights",value:o.classTab,children:Object(r.jsx)(ut,{topResults:n.topResults,bottomResults:n.bottomResults,categories:S})}),Object(r.jsx)(Tt,{index:"class_lessons",value:o.classTab,children:Object(r.jsx)(wt,{courses:g})}),Object(r.jsx)(Tt,{index:"class_students",value:o.classTab,children:Object(r.jsx)(Lt,{students:n.students,bottomResults:n.bottomResults})})]})]})})),Wt=n(163),zt=n.n(Wt),Mt=n(5),Dt=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:400}}})),Ft=function(e){var t=Object(S.a)(),n=e.lessonAttempts,c=e.title,s=Dt(),o=n.reduce((function(e,t){return t.isCompleted?e.completed+=1:t.isStarted?e.started+=1:e.notStarted+=1,e}),{started:0,completed:0,notStarted:0}),i=o.started,u=o.completed,l=o.notStarted;Object(a.useEffect)((function(){}),[]);var d={datasets:[{data:[l,i,u],backgroundColor:[t.statistics.red.main,t.statistics.orange.main,t.statistics.green.main]}],labels:["Niet begonnen","Begonnen","Voltooid"]},j=Object(Mt.a)(s.paper,s.fixedHeight);return Object(r.jsxs)(q.a,{className:j,children:[Object(r.jsx)(B,{children:c}),Object(r.jsx)(f.Doughnut,{data:d})]})},Qt=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:400}}})),Ht=function(e){var t=e.lessonAttempts,n=e.title,a=Qt(),c={datasets:[{label:"Aantal leerlingen",data:t.reduce((function(e,t){return e[t.performance-1]+=1,e}),[0,0,0,0,0,0,0,0,0,0])}],labels:["1","2","3","4","5","6","7","8","9","10"]},s=Object(Mt.a)(a.paper,a.fixedHeight);return Object(r.jsxs)(q.a,{className:s,children:[Object(r.jsx)(B,{children:n}),Object(r.jsx)(f.Bar,{data:c})]})},Vt=[{field:"name",headerName:"Naam",flex:.2,valueGetter:function(e){return e.row.student.name}},{field:"progress",headerName:"Voortgang (%)",flex:.1,valueGetter:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length,n=e.reduce((function(e,t){return t.isCompleted&&(e+=1),e}),0);return 0!==t?Math.floor(n/t*100):100}(e.row.questionGroupAttempts)}},{field:"duration",headerName:"Tijdsduur (minuten)",flex:.15},{field:"correct",headerName:"Correct",flex:.1,type:"number"},{field:"incorrect",headerName:"Incorrect",flex:.1,type:"number"},{field:"performance",headerName:"Cijfer",flex:.1,type:"number"}],Pt=Object(d.a)((function(e){return{datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),$t=Object(h.a)((function(e){var t=Pt(),n=Object(l.g)(),c=Object(l.i)(),s=e.lessonStore;if(Object(a.useEffect)((function(){s.loadLessonAttempts(c.lessonId)}),[s,c.lessonId]),s.isLoading)return Object(r.jsx)(A.a,{});return Object(r.jsxs)(I.a,{container:!0,spacing:2,children:[Object(r.jsx)(I.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(Ft,{lessonAttempts:s.lessonAttempts,title:"Algemene voortgang"})}),Object(r.jsx)(I.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(Ht,{lessonAttempts:s.lessonAttempts,title:"Cijferverdeling"})}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(q.a,{children:Object(r.jsx)(G.a,{className:t.datagrid,autoHeight:!0,rows:s.lessonAttempts,columns:Vt,pageSize:12,onRowClick:function(e){return n.push("/dashboard/students/".concat(e.row.student.id))}})})})]})})),Jt=[{field:"updatedAt",headerName:"Datum",flex:.2},{field:"student",headerName:"Leerling",flex:.2},{field:"question",headerName:"Opdracht",flex:.2},{field:"isCompleted",headerName:"Voltooid",flex:.2,renderCell:function(e){return e.row.isCompleted?Object(r.jsx)(T.a,{}):Object(r.jsx)(E.a,{})}}],Kt=Object(d.a)((function(e){return{datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),Ut=function(e){var t=[];return e.forEach((function(e){var n=e.index+1;e.questionGroupAttempts.forEach((function(e){var r;t.push({id:e.id,updatedAt:(r=e.updatedAt,"".concat(r.substring(0,10)," ").concat(r.substring(11,19))),student:e.lessonAttempts.student.name,question:n,isCompleted:e.isCompleted,lessonAttempts:e.lessonAttempts})}))})),t},Yt=function(e){var t=Kt(),n=Object(l.g)(),a=e.questionGroups;return Object(r.jsxs)(ge,{children:[Object(r.jsx)(B,{children:"Recente leerlingen activiteit"}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(G.a,{className:t.datagrid,autoHeight:!0,rows:Ut(a),columns:Jt,pageSize:5,onRowClick:function(e){return n.push("/dashboard/students/".concat(e.row.lessonAttempts.student.id))}})})]})},Xt=n(576),Zt=n(569),en=Object(d.a)((function(e){return{widget:{padding:e.spacing(3)},paper:{borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopLeftRadius:0,borderTopRightRadius:0,height:230,padding:e.spacing(3)}}})),tn=function(e){return{learning_process:"Leerproces",recognizing_morphemes_sentence:"Herkennen morfemen in een zin",meaning_morphemes:"Betekenis morfemen",splitsing_morphemes:"Splits morfemen",create_morphemes_prefix:"Cre\xebren morfemen (voorvoegsel)",background_morphemes:"Alternatieve betekenis morfemen",recognizing_morphemes_text:"Herkennen morfemen in een tekst",intuition:"Intu\xeftie",create_alternative_morphemes:"Cre\xebren alternatieve morfemen",create_morphemes_suffix:"Cre\xebren morfemen (achtervoegsel)",create_new_morphemes:"Cre\xebren nieuwe morfemen"}[e]},nn=Object(h.a)((function(e){var t=Object(Xt.a)(Zt.a),n=e.questionGroupIds,c=e.lessonId,s=e.classId,o=e.questionStore,u=e.studentStore,l=Object(S.a)(),d=en(),j=Object(a.useState)(!1),b=Object(N.a)(j,2),p=b[0],m=b[1],h=Object(a.useState)([]),f=Object(N.a)(h,2),O=f[0],x=f[1],g=0,v=0,w=0,y=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.loadLessonCategories(s);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:x(t.body.data);case 6:case"end":return e.stop()}}),e)}))),[s]),G=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.loadStudents({classId:s});case 2:case"end":return e.stop()}}),e)}))),[u,s]),L=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.loadQuestionGroupsWithAttempts(n);case 2:case"end":return e.stop()}}),e)}))),[o,n]),T=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),t=[G(),L(),y()],e.next=4,Promise.all(t);case 4:m(!1);case 5:case"end":return e.stop()}}),e)}))),[G,L,y]);if(Object(a.useEffect)((function(){T()}),[T]),o.isLoading||p)return Object(r.jsx)(A.a,{});!function(){var e=0,n=0,r=0,a=0,s=0,i=0,u=[];if(o.questionGroups){o.questionGroups.forEach((function(t){t.questionGroupAttempts.forEach((function(t){t.lessonAttempts.lessonId===c&&(t.isCompleted?(r+=1,e+=t.correct,a+=t.correct+t.incorrect+t.missed,u.push(t.timeElapsedSeconds)):n+=1)}))})),g=Math.round(e/a*100),v=Math.round(r/(r+n)*100);var l=u.sort((function(e,t){return e-t})),d=t.median(l),j=t.std(l),b=d-j,p=d+j;for(var m in l)m>=b&&m<=p&&(s+=parseInt(m),i+=1);w=s/i}}();var _=function(e){var t=Math.floor(255*(e<=50?e/50:(100-e)/50)),n=(e<=50?[255,t,0]:[t,255,0]).map((function(e){return Math.round(.8*e)}));return"rgb(".concat(n.join(","),")")},E=function(e){return{datasets:[{data:[100-e,e],backgroundColor:["rgb(0, 0, 0, 0)",_(e)]}]}},R=function(e){var t=e.color;return{cutoutPercentage:75,tooltips:{enabled:!1},hover:{mode:null},responsive:!0,elements:{center:{text:e.text,color:t||"#FFFFFF"}}}};return Object(r.jsxs)(I.a,{container:!0,spacing:3,children:[Object(r.jsx)(Ae,{title:"Gemiddelde correctheid",data:E(g),options:R({color:"black",text:String(g)+"%"})}),Object(r.jsx)(Ae,{title:"Gemiddelde voortgang",data:E(v),options:R({color:"black",text:String(v)+"%"}),titleColor:l.widget.secondary.main}),Object(r.jsx)(Ae,{title:"Gemiddelde tijdsduur",data:E({averageTime:w}),options:R({color:"black",text:function(e){var t=Math.floor(e/60),n=e%60;return"".concat(t," min. ").concat(n," sec.")}(w)}),titleColor:l.widget.tertiary.main}),Object(r.jsxs)(I.a,{container:!0,spacing:3,className:d.widget,children:[Object(r.jsx)(et,{headercolor:l.widget.secondary.main,headertitle:"Topcategorie\xebn",children:Object(r.jsx)(q.a,{className:d.paper,children:O.slice(0,3).map((function(e,t){return Object(r.jsx)(ct,{title:"".concat(t+1,". ").concat(tn(e.key)),value:e.correctness},e.key)}))})}),Object(r.jsx)(et,{headercolor:l.widget.secondary.main,headertitle:"Probleemcategorie\xebn",children:Object(r.jsx)(q.a,{className:d.paper,children:O.slice(-3).map((function(e,t){return Object(r.jsx)(ct,{title:"".concat(t+1,". ").concat(tn(e.key)),value:e.correctness},e.key)}))})})]}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(q.a,{children:o.questionGroups?Object(r.jsx)(Yt,Object(i.a)({questionGroups:o.questionGroups,lessonId:c},e)):null})})]})})),rn=n(109),an=Object(h.a)((function(e){var t=Object(a.useState)("after"),n=Object(N.a)(t,2),c=n[0],s=n[1],o=e.lessonStore,u=Object(l.i)();if(Object(a.useEffect)((function(){o.loadLesson(u.lessonId)}),[o,u.lessonId]),o.isLoading)return Object(r.jsx)(A.a,{});var d=function(){s("during"===c?"after":"during")},j=function(){if(o.lesson)return o.lesson.questionGroups.map((function(e){return e.id}))};return Object(r.jsxs)(I.a,{container:!0,spacing:2,children:[Object(r.jsx)(I.a,{container:!0,spacing:2,style:{justifyContent:"center",display:"flex"},children:Object(r.jsxs)(I.a,{item:!0,xs:4,style:{display:"flex",direction:"row",justifyContent:"center",alignItems:"center",paddingBottom:"2rem",paddingTop:"2rem"},children:[Object(r.jsx)(I.a,{item:!0,style:{paddingRight:"1rem"},children:Object(r.jsx)(rn.a,{variant:"contained",color:"during"===c?"primary":"default",onClick:d,children:"Tijdens de les"})}),Object(r.jsx)(I.a,{item:!0,style:{paddingLeft:"1rem"},children:Object(r.jsx)(rn.a,{variant:"contained",color:"after"===c?"primary":"default",onClick:d,children:"Achteraf"})})]})}),Object(r.jsx)(I.a,{item:!0,xs:12,children:"after"===c?Object(r.jsx)($t,Object(i.a)({},e)):Object(r.jsx)(nn,Object(i.a)({questionGroupIds:j(),lessonId:u.lessonId,classId:u.classId},e))})]})})),cn={open:"Open",clickTheRightWords:"Selecteer het correcte antwoord",multipleChoice:"Meerkeuze",divideTheWord:"Verdeel het woord",combineAndFillInTheBlanks:"Combineer en vul in"},sn=[{field:"name",headerName:"Naam",flex:.2},{field:"index",headerName:"Opdrachtnummer",flex:.1,type:"number",valueGetter:function(e){return e.value+1}},{field:"questionGroups",headerName:"Vragen",flex:.1,valueGetter:function(e){return e.row.questions.length},type:"number"},{field:"type",headerName:"Type",flex:.2,valueGetter:function(e){var t=e.row.questions[0].type;return cn[t]||t}},{field:"averageScore",headerName:"Gem. score (%)",flex:.1,type:"number"},{field:"averageElapsedTime",headerName:"Gem. tijdsduur (sec)",flex:.1,type:"number"},{field:"completions",headerName:"Klaar",flex:.1,type:"number"}],on=Object(d.a)((function(e){return{datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),un=Object(h.a)((function(e){var t=e.lessonStore,n=Object(l.h)(),c=on(),s=Object(l.i)(),o=Object(l.g)();return Object(a.useEffect)((function(){t.loadLesson(s.lessonId)}),[t,s.lessonId]),t.isLoading||!t.lesson?Object(r.jsx)(A.a,{}):Object(r.jsx)(G.a,{className:c.datagrid,autoHeight:!0,rows:t.lesson.questionGroups,columns:sn,pageSize:12,onRowClick:function(e){return o.push("".concat(n.pathname,"/questionGroups/").concat(e.row.id,"/question_group_insights"))},sortModel:[{field:"index",sort:"asc"}]})})),ln=Object(h.a)((function(e){var t=e.crumbs,n=Object(l.g)(),a=Object(l.i)(),c=Object(l.h)();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(He.a,{position:"static",children:Object(r.jsxs)(Ve.a,{value:a.lessonTab,onChange:function(e,t){var r=a.lessonTab,s=c.pathname.replace(r,t);n.push(s)},children:[Object(r.jsx)(Pe.a,{label:"Inzicht (les)",value:"lesson_insights",icon:Object(r.jsx)(Xe.a,{})}),Object(r.jsx)(Pe.a,{label:"Opdrachten",value:"lesson_questions",icon:Object(r.jsx)(zt.a,{})})]})}),Object(r.jsxs)(ge,{maxWidth:"lg",children:[Object(r.jsx)(Et,{crumbs:t}),Object(r.jsx)(Tt,{index:"lesson_insights",value:a.lessonTab,children:Object(r.jsx)(an,Object(i.a)({},e))}),Object(r.jsx)(Tt,{index:"lesson_questions",value:a.lessonTab,children:Object(r.jsx)(un,Object(i.a)({},e))})]})]})})),dn=n(583),jn=n(554),bn=n(555),pn=n(165),mn=n.n(pn),hn=function(e){var t=e.name,n=e.id,a=e.prefix,c=Object(l.g)(),s=Object(l.h)();return Object(r.jsxs)(jt.a,{component:"div",alignItems:"flex-start",button:!0,onClick:function(){return c.push("".concat(s.pathname,"/lessons/").concat(n))},children:[Object(r.jsx)(bt.a,{primary:"".concat(a," - ").concat(t)}),Object(r.jsx)(pt.a,{children:Object(r.jsx)(mt.a,{edge:"end","aria-label":"comments",children:Object(r.jsx)(Ot.a,{})})})]},n)},fn=Object(d.a)((function(e){return{fullWidth:{width:"100%"}}})),On=function(e){var t=e.name,n=e.id,c=e.lessons,s=fn(),o=Object(a.useState)(!0),u=Object(N.a)(o,2),l=u[0],d=u[1];return Object(r.jsx)(jt.a,{component:"div",alignItems:"flex-start",children:Object(r.jsxs)(dn.a,{className:s.fullWidth,TransitionProps:{unmountOnExit:!0},expanded:l,onChange:function(){return d(!l)},children:[Object(r.jsx)(jn.a,{expandIcon:Object(r.jsx)(mn.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(r.jsx)(R.a,{children:t})}),Object(r.jsx)(bn.a,{children:Object(r.jsx)(lt.a,{subheader:Object(r.jsx)(ht.a,{component:"div",id:"nested-list-subheader",children:"Lessen"}),style:{width:"100%"},children:c.map((function(e){return Object(r.jsx)(hn,Object(i.a)({},e),e.id)}))})})]})},n)},xn=function(e){var t=e.courses;return Object(r.jsx)(lt.a,{subheader:Object(r.jsx)(ht.a,{component:"div",id:"nested-list-subheader",children:"Cursussen"}),children:t.map((function(e){return Object(r.jsx)(On,Object(i.a)({},e),e.id)}))})},gn=Object(d.a)((function(){return{title:{textAlign:"center",background:"black",color:"white",alignItems:"baseline",display:"flex",justifyContent:"center"}}})),vn=function(e){var t=e.name,n=gn();return Object(r.jsxs)(q.a,{className:n.title,children:[Object(r.jsx)(R.a,{style:{variant:"h5"},children:" Naam Leerling: "}),Object(r.jsx)(R.a,{style:{variant:"h6",marginLeft:"10%"},children:t})]})},wn=n(557),yn=n(560),kn=n(538),Cn=n(556),Nn=n(558),Sn=n(559),In=n(265),qn=n.n(In),An=n(266),Gn=n.n(An),Ln=n(264),Tn=n.n(Ln),_n=function(e,t,n){return{courseName:e,lessonName:t,category:n}},En=function(e){switch(e){case"progress":return Object(r.jsx)(Tn.a,{style:{color:"orange"}});case"completed":return Object(r.jsx)(qn.a,{style:{color:"green"}});default:return Object(r.jsx)(Gn.a,{style:{color:"red"}})}},Rn=function(e){var t=function(e){var t=[];return e.forEach((function(e){var n=e.name;e.lessons.forEach((function(e){var r=e.name;e.lessonAttempts.forEach((function(e){e.isStarted&&e.isCompleted?t.push(_n(n,r,"completed")):e.isStarted&&!e.isCompleted?t.push(_n(n,r,"progress")):t.push(_n(n,r,"notstarted"))}))}))})),t}(e.courses);return Object(r.jsx)(Cn.a,{component:q.a,children:Object(r.jsxs)(wn.a,{"aria-label":"spanning table",children:[Object(r.jsx)(Nn.a,{children:Object(r.jsxs)(Sn.a,{children:[Object(r.jsx)(kn.a,{align:"left",children:"Cursus"}),Object(r.jsx)(kn.a,{align:"left",children:"Les"}),Object(r.jsx)(kn.a,{align:"left",children:"Voortgang"})]})}),Object(r.jsx)(yn.a,{children:t.map((function(e,n){return Object(r.jsxs)(Sn.a,{children:[0===n?Object(r.jsxs)(kn.a,{rowSpan:t.length,children:[" ",e.courseName]}):null,Object(r.jsx)(kn.a,{align:"left",children:e.lessonName}),Object(r.jsxs)(kn.a,{children:[" ",En(e.category)," "]})]},n)}))})]})})},Bn=Object(d.a)((function(e){return{widget:{height:230,padding:e.spacing(3),marginBottom:e.spacing(12)},paper:{borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopLeftRadius:0,borderTopRightRadius:0,height:230,padding:e.spacing(3)}}})),Wn=function(e){return{learning_process:"Leerproces",recognizing_morphemes_sentence:"Herkennen morfemen in een zin",meaning_morphemes:"Betekenis morfemen",splitsing_morphemes:"Splits morfemen",create_morphemes_prefix:"Cre\xebren morfemen (voorvoegsel)",background_morphemes:"Alternatieve betekenis morfemen",recognizing_morphemes_text:"Herkennen morfemen in een tekst",intuition:"Intu\xeftie",create_alternative_morphemes:"Cre\xebren alternatieve morfemen",create_morphemes_suffix:"Cre\xebren morfemen (achtervoegsel)",create_new_morphemes:"Cre\xebren nieuwe morfemen"}[e]},zn=Object(h.a)((function(e){var t=Bn(),n=Object(l.i)(),c=Object(S.a)(),s=Object(a.useState)(!1),o=Object(N.a)(s,2),u=o[0],d=o[1],j=Object(a.useState)([]),b=Object(N.a)(j,2),p=b[0],m=b[1],h=Object(a.useState)([]),f=Object(N.a)(h,2),O=f[0],x=f[1],g=Object(a.useState)([]),v=Object(N.a)(g,2),w=v[0],y=v[1],G=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.studentId,e.next=3,fe.loadCourses({studentId:t});case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:x(r.body.data);case 7:case"end":return e.stop()}}),e)}))),[n.studentId]),L=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.studentId,e.next=3,fe.loadStudent(t);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:m(r.body.data);case 7:case"end":return e.stop()}}),e)}))),[n.studentId]),T=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.studentId,e.next=3,fe.loadStudentCategories(t);case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:y(r.body.data);case 7:case"end":return e.stop()}}),e)}))),[n.studentId]),_=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),t=[G(),L(),T()],e.next=4,Promise.all(t);case 4:d(!1);case 5:case"end":return e.stop()}}),e)}))),[G,L,T]);return Object(a.useEffect)((function(){_()}),[_]),u?Object(r.jsx)(A.a,{}):Object(r.jsx)(ge,{children:Object(r.jsxs)(I.a,{container:!0,spacing:2,children:[Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(vn,Object(i.a)({},p))}),Object(r.jsxs)(I.a,{container:!0,spacing:3,className:t.widget,children:[Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(Rn,{courses:O})}),Object(r.jsx)(et,{headercolor:c.widget.secondary.main,headertitle:"Topcategorie\xebn",children:Object(r.jsx)(q.a,{className:t.paper,children:w.slice(0,3).map((function(e,t){return Object(r.jsx)(ct,{title:"".concat(t+1,". ").concat(Wn(e.key)),value:e.correctness},e.key)}))})}),Object(r.jsx)(et,{headercolor:c.widget.secondary.main,headertitle:"Probleemcategorie\xebn",children:Object(r.jsx)(q.a,{className:t.paper,children:w.slice(-3).map((function(e,t){return Object(r.jsx)(ct,{title:"".concat(t+1,". ").concat(Wn(e.key)),value:e.correctness},e.key)}))})}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(xn,{courses:O})})]})]})})})),Mn=n(289),Dn=[{field:"updatedAt",headerName:"Datum",flex:.2,renderCell:function(e){return t=e.row.updatedAt,"".concat(t.substring(0,10)," ").concat(t.substring(11,19));var t}},{field:"questionGroup",headerName:"Opdracht",flex:.4,valueGetter:function(e){return e.row.question.questions.name}},{field:"questionGroupIndex",headerName:"Opdracht index",flex:.2,valueGetter:function(e){return e.row.question.questions.index+1}},{field:"question",headerName:"Vraag nummer",flex:.2,valueGetter:function(e){return e.row.question.index+1}}],Fn=Object(d.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)"},datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),Qn=function(e){var t=Fn(),n=e.questionAttempts,s=Object(a.useState)(!1),o=Object(N.a)(s,2),u=o[0],l=o[1],d=Object(a.useState)({}),j=Object(N.a)(d,2),b=j[0],p=j[1],m=c.a.forwardRef((function(e,n){return Object(r.jsxs)("div",Object(i.a)(Object(i.a)({},e),{},{className:t.paper,ref:n,children:[Object(r.jsx)("h2",{id:"simple-modal-title",children:"Antwoord"}),Object(r.jsx)("p",{id:"simple-modal-description",children:JSON.stringify(b.answer)})]}))}));return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(Mn.a,{open:u,onClose:function(){l(!1),p({})},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(r.jsx)(m,{})}),Object(r.jsx)(B,{children:"Antwoorden"}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(G.a,{className:t.datagrid,autoHeight:!0,rows:n,columns:Dn,pageSize:5,onRowClick:function(e){return function(e){p(e.row),l(!0)}(e)}})})]})},Hn=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),Vn=function(e){var t=e.questionStore,n=Hn(),c=Object(l.i)(),s=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadQuestionAttemptsWithInfo(c.studentId,c.lessonId);case 2:case"end":return e.stop()}}),e)}))),[t,c.studentId,c.lessonId]);return Object(a.useEffect)((function(){s()}),[s]),t.isLoading?Object(r.jsx)(A.a,{}):Object(r.jsx)(ge,{children:Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(q.a,{className:n.paper,children:Object(r.jsx)(Qn,{questionAttempts:t.questionAttempts})})})})},Pn=n(272),$n=n.n(Pn),Jn=function(e){for(var t=[],n=0;n<e;n++)t.push("Vraag "+parseInt(n+1));return t},Kn=function(e){var t=Object(S.a)(),n=e.questionGroup,a=e.title,c=n.questions.length,s=[];n.questions.forEach((function(e){s.push(e.id)}));var o=function(e,t,n){var r=Array(t).fill(0),a=Array(t).fill(0),c=Array(t).fill(0);return e.forEach((function(e){e.isCompleted&&e.questionAttempts.forEach((function(e){var t=n.findIndex((function(t){return t===e.questionId&&e.correct}));r[t]+=1;var s=n.findIndex((function(t){return t===e.questionId&&e.incorrect}));a[s]+=1;var o=n.findIndex((function(t){return t===e.questionId&&e.missed}));c[o]+=1}))})),[r,a,c]}(n.questionGroupAttempts,c,s),i={datasets:[{label:"Aantal juiste antwoorden",data:o[0],backgroundColor:o[0].map((function(){return t.statistics.green.main}))},{label:"Aantal incorrect antwoorden",data:o[1],backgroundColor:o[1].map((function(){return t.statistics.red.main}))},{label:"Aantal gemiste antwoorden",data:o[2],backgroundColor:o[2].map((function(){return t.statistics.orange.main}))}],labels:Jn(c)};return Object(r.jsxs)(q.a,{children:[Object(r.jsx)(B,{children:a}),Object(r.jsx)(f.Bar,{data:i})]})},Un=Object(d.a)((function(e){return{paper:{padding:e.spacing(2),display:"flex",textAlign:"center",overflow:"auto",flexDirection:"column"},fixedHeight:{height:400}}})),Yn=function(e){var t=Object(S.a)(),n=e.questionGroupAttempts,a=e.title,c=Un(),s=0,o=0,i=0;n.forEach((function(e){e.questionAttempts.forEach((function(e){s+=e.correct,o+=e.incorrect,i+=e.missed}))}));var u={datasets:[{data:[s,o,i],backgroundColor:[t.statistics.green.main,t.statistics.red.main,t.statistics.orange.main]}],labels:["Correct","Incorrect","Gemist"]},l=Object(Mt.a)(c.paper,c.fixedHeight);return Object(r.jsxs)(q.a,{className:l,children:[Object(r.jsx)(B,{children:a}),Object(r.jsx)(f.Doughnut,{data:u})]})},Xn=Object(d.a)((function(e){return{card:{height:180,display:"flex",width:600},widget:{height:"100%",color:"white",display:"flex",justifyContent:"center",textAlign:"center",padding:e.spacing(2)},widgetTop:{fontWeight:400,padding:e.spacing(2)},widgetBottom:{fontWeight:100,padding:e.spacing(2)}}})),Zn=function(e){var t=e.questionGroup,n=e.title,a=e.number,c=e.color,s=Xn(),o=t.questions.length,i=t.averageElapsedTime,u=1===a?o:i+" sec.";return Object(r.jsx)(ke.a,{style:{backgroundColor:c},className:s.card,children:Object(r.jsx)(Ne.a,{onClick:e.onClick,children:Object(r.jsx)(Ce.a,{children:Object(r.jsxs)(I.a,{container:!0,spacing:1,className:s.widget,children:[Object(r.jsx)(R.a,{variant:"h5",className:s.widgetTop,children:n}),Object(r.jsx)(R.a,{variant:"h5",className:s.widgetBottom,children:u})]})})})})},er=Object(h.a)((function(e){var t=e.questionStore,n=Object(S.a)(),c=Object(l.i)(),s=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadQuestionGroupsWithAttempts(c.questionGroupId);case 2:case"end":return e.stop()}}),e)}))),[t,c.questionGroupId]);return Object(a.useEffect)((function(){s()}),[s]),t.isLoading||!t.questionGroups?Object(r.jsx)(A.a,{}):Object(r.jsxs)(I.a,{container:!0,spacing:2,children:[Object(r.jsx)(I.a,{item:!0,xs:12,md:6,children:Object(r.jsx)(Yn,{questionGroupAttempts:t.questionGroups[0].questionGroupAttempts,title:"Correctheid verdeling van de vragen"})}),Object(r.jsxs)(I.a,{item:!0,xs:12,md:6,style:{padding:"1rem"},children:[Object(r.jsx)(Zn,{questionGroup:t.questionGroups[0],title:"Totaal aantal vragen: ",number:1,color:n.widget.tertiary.main}),Object(r.jsx)(Zn,{questionGroup:t.questionGroups[0],title:"Gemiddelde tijdsduur opdracht: ",number:2,color:n.widget.secondary.main})]}),Object(r.jsx)(I.a,{item:!0,xs:12,md:12,children:Object(r.jsx)(Kn,{questionGroup:t.questionGroups[0],title:"Correctheid verdeling per vraag"})})]})})),tr=n(28),nr=n(575),rr=n(584),ar=n(480),cr=n(132),sr=n(268),or=n.n(sr),ir=n(474),ur=n(270),lr=n.n(ur),dr=n(267),jr=n.n(dr),br=n(269),pr=n.n(br),mr=n(475),hr=Object(d.a)((function(e){return{fullWidth:{width:"100%"},popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)}}})),fr=function(e){var t=e.onClick;return Object(r.jsx)("label",{htmlFor:"icon-button-file",children:Object(r.jsx)(mt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:t,children:Object(r.jsx)(jr.a,{})})})},Or=function(e){var t=hr(),n=e.id,s=e.instruction,o=e.data,u=e.save,l=e.setIsBlocking,d=Object(i.a)({},o),j=Object(a.useState)(d),b=Object(N.a)(j,2),p=b[0],m=b[1],h=Object(a.useState)(""),f=Object(N.a)(h,2),O=f[0],x=f[1],g=c.a.useState(null),v=Object(N.a)(g,2),w=v[0],y=v[1],k=Object(a.useState)(!1),C=Object(N.a)(k,2),S=C[0],q=C[1],A=function(e,t){x(t),y(e.currentTarget)},G=function(){y(null)},L=Boolean(w);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(mr.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:L,anchorEl:w,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:G,disableRestoreFocus:!0,children:Object(r.jsx)(R.a,{children:O})}),Object(r.jsx)(jt.a,{component:"div",alignItems:"flex-start",children:Object(r.jsxs)(I.a,{container:!0,children:[Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(R.a,{variant:"body1",className:t.marginBottom,children:s})}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(R.a,{children:p.value})}),Object(r.jsx)(I.a,{item:!0,xs:10,children:Object(r.jsxs)(cr.a,{component:"fieldset",children:[Object(r.jsx)(ir.a,{component:"legend",children:"Selecteer het juiste antwoord"}),Object(r.jsx)(rr.a,{children:p.options.map((function(e,t){return Object(r.jsxs)("div",{children:[Object(r.jsx)(ar.a,{value:e.value,control:Object(r.jsx)(nr.a,{color:"primary",checked:e.isCorrect,onClick:function(t){return function(e,t){l(!0);var n=p.options.map((function(t){return t===e?Object(i.a)(Object(i.a)({},e),{},{isCorrect:!t.isCorrect}):t})),r=Object(i.a)(Object(i.a)({},p),{},{options:n});m(r)}(e)}}),label:S?Object(r.jsx)(ze.a,{value:e.value,onChange:function(t){return function(e,t){l(!0);var n=p.options.map((function(n){return n===e?Object(i.a)(Object(i.a)({},n),{},{value:t.target.value}):n})),r=Object(i.a)(Object(i.a)({},p),{},{options:n});m(r)}(e,t)},placeholder:"Nieuw antwoord"}):e.value,disabled:!S}),S&&Object(r.jsx)(fr,{onClick:function(){return function(e){l(!0);var t=p.options.filter((function(t){return t!==e})),n=Object(i.a)(Object(i.a)({},p),{},{options:t});m(n)}(e)}})]},t)}))}),S?Object(r.jsxs)("label",{htmlFor:"icon-button-file",children:[Object(r.jsx)(mt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){l(!0);var e=[].concat(Object(tr.a)(p.options),[{isCorrect:!1,value:""}]),t=Object(i.a)(Object(i.a)({},p),{},{options:e});m(t)},children:Object(r.jsx)(or.a,{})}),"Antwoord toevoegen"]}):null]})}),S?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I.a,{item:!0,xs:1,children:Object(r.jsx)(mt.a,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){G(),q(!1),u(p),l(!1)},onMouseEnter:function(e){return A(e,"Aanpassingen opslaan")},onMouseLeave:G,"aria-owns":L?"mouse-over-popover":void 0,"aria-haspopup":"true",children:Object(r.jsx)(pr.a,{})})}),Object(r.jsx)(I.a,{item:!0,xs:1,children:Object(r.jsx)(mt.a,{color:"secondary",component:"span",onClick:function(){G(),q(!1),m(o),l(!1)},onMouseEnter:function(e){return A(e,"Aanpassingen ongedaan maken")},onMouseLeave:G,"aria-owns":L?"mouse-over-popover":void 0,"aria-haspopup":"true",children:Object(r.jsx)(lr.a,{})})})]}):Object(r.jsx)(I.a,{item:!0,xs:2,children:Object(r.jsx)(mt.a,{color:"primary",onClick:function(){return q(!0)},onMouseEnter:function(e){return A(e,"Vraag aanpassen")},onMouseLeave:G,"aria-owns":L?"mouse-over-popover":void 0,"aria-haspopup":"true",children:Object(r.jsx)(zt.a,{})})})]})},n)]})},xr=Object(d.a)((function(e){return{fullWidth:{width:"100%"}}})),gr=function(e){var t=e.id,n=e.index,a=e.data,c=xr();return Object(r.jsx)(jt.a,{component:"div",alignItems:"flex-start",children:Object(r.jsxs)(I.a,{container:!0,children:[Object(r.jsx)(I.a,{item:!0,xs:12,md:6,className:c.fullWidth,children:Object(r.jsx)(R.a,{children:"".concat(n+1,". ").concat(a.word)})}),(a.morphemes||[]).map((function(e,t){return Object(r.jsxs)(I.a,{item:!0,xs:12,children:[Object(r.jsx)(R.a,{children:e.value}),Object(r.jsx)(rr.a,{children:e.options.map((function(e,t){return Object(r.jsx)("div",{children:Object(r.jsx)(ar.a,{value:e.value,disabled:!0,control:Object(r.jsx)(nr.a,{color:"primary",checked:e.isCorrect}),label:Object(r.jsx)(ze.a,{value:e.value,placeholder:"Nieuw antwoord",disabled:!0})})},t)}))})]},e.value)}))]})},t)},vr=Object(d.a)((function(e){return{fullWidth:{width:"100%"}}})),wr=function(e){var t=e.id,n=vr();return Object(r.jsx)(jt.a,{component:"div",alignItems:"flex-start",children:Object(r.jsx)(I.a,{container:!0,children:Object(r.jsxs)(I.a,{item:!0,xs:12,md:6,className:n.fullWidth,children:[Object(r.jsx)(R.a,{variant:"body1",children:"".concat(e.index+1,". ").concat(e.instruction)}),Object(r.jsx)(ze.a,{disabled:!0,multiline:!0,rows:4,className:n.fullWidth})]})})},t)},yr=Object(d.a)((function(e){return{fullWidth:{width:"100%"}}})),kr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" | ",r=n.length;return t.forEach((function(t,a){var c=e.slice(0,t+a*r),s=e.slice(t+a*r);e="".concat(c).concat(n).concat(s)})),e},Cr=function(e){var t=e.id,n=e.data,a=yr();return Object(r.jsx)(jt.a,{component:"div",alignItems:"flex-start",children:Object(r.jsx)(I.a,{container:!0,children:Object(r.jsxs)(I.a,{item:!0,xs:12,md:6,className:a.fullWidth,children:[Object(r.jsx)(R.a,{variant:"body1",children:"".concat(e.index+1,". ").concat(n.word)}),Object(r.jsx)(R.a,{children:kr(n.word,n.correctAnswer)})]})})},t)},Nr=Object(d.a)((function(e){return{fullWidth:{width:"100%"}}})),Sr=function(e){var t=e.id,n=Nr();return Object(r.jsx)(jt.a,{component:"div",alignItems:"flex-start",children:Object(r.jsxs)(I.a,{container:!0,children:[Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(R.a,{variant:"body1",className:n.marginBottom})}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(R.a,{children:"Oh oh, dit wordt nog niet ondersteund."})})]})},t)},Ir=function(e){var t=e.type;switch(t){case"multipleChoice":return Object(r.jsx)(Or,Object(i.a)({},e));case"multipleChoiceGroup":return Object(r.jsx)(gr,Object(i.a)({},e));case"open":return Object(r.jsx)(wr,Object(i.a)({},e));case"divideTheWord":return Object(r.jsx)(Cr,Object(i.a)({},e));case"clickTheRightWords":return Object(r.jsx)(Sr,Object(i.a)({},e));default:return Object(r.jsx)("p",{children:"Er is iets fout gegaan, ".concat(t," wordt niet herkend als vraag type")})}},qr=function(e){var t=e.questions,n=e.save,c=Object(a.useState)(!1),s=Object(N.a)(c,2),o=s[0],u=s[1];t.sort((function(e,t){return e.index>t.index?1:-1}));var d=function(){var e=Object(C.a)(k.a.mark((function e(t,r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t,r);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l.a,{when:o,message:function(e){return"Je hebt je aanpassingen niet opgeslagen, weet je zeker dat je deze pagina wilt verlaten? (Uw aanpassingen zullen NIET opgeslagen worden!)"}}),Object(r.jsx)(q.a,{children:Object(r.jsx)(lt.a,{subheader:Object(r.jsx)(ht.a,{component:"div",id:"nested-list-subheader",children:"Instructie"}),children:t.map((function(e,t){return Object(r.jsx)(jt.a,{component:"div",children:Object(r.jsx)(Ir,Object(i.a)(Object(i.a)({},e),{},{setIsBlocking:u,index:t,save:function(t){return d(e.id,t)}}))},e.id)}))})})]})},Ar=function(e){var t=e.authStore,n=Object(a.useState)(null),c=Object(N.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)(!1),d=Object(N.a)(u,2),j=d[0],b=d[1],p=Object(l.i)(),m=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,fe.loadQuestionGroups([p.questionGroupId]);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:o(t.body.data[0]),b(!1);case 8:case"end":return e.stop()}}),e)}))),[p.questionGroupId]);Object(a.useEffect)((function(){m()}),[m]);var h=function(){var e=Object(C.a)(k.a.mark((function e(n,r){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,fe.updateQuestion(n,r);case 3:if(a=e.sent,b(!1),a){e.next=7;break}return e.abrupt("return");case 7:return t.setSuccess("Vraag succesvol ge\xfcpdatet"),e.next=10,m();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return j||!s?Object(r.jsx)(A.a,{}):Object(r.jsxs)(I.a,{container:!0,spacing:2,children:[Object(r.jsx)(I.a,{item:!0,xs:12}),Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(qr,Object(i.a)(Object(i.a)({},s),{},{save:h}))})]})},Gr=n(273),Lr=n.n(Gr),Tr=Object(d.a)((function(e){return{paper:{display:"flex",textAlign:"center",overflow:"auto",justifyContent:"center",backgroundColor:e.widget.secondary.main,color:"white",alignItems:"baseline"},fixedHeight:{height:400}}})),_r=function(e){var t=e.name,n=e.label,a=Tr();return Object(r.jsxs)(q.a,{className:a.paper,children:[Object(r.jsxs)(R.a,{variant:"h6",children:[t," "]}),Object(r.jsx)(nt.a,{paddingLeft:2,children:Object(r.jsxs)(R.a,{variant:"subtitle1",children:["(",n,")"]})})]})},Er=Object(d.a)((function(e){return{answer:function(e){return{background:Rr(e.correct),width:"90%"}}}})),Rr=function(e){return e?"#C5E6A6":"white"},Br=function(e){var t=Er(e);return Object(r.jsxs)(R.a,{className:t.answer,children:[" ",e.answer]})},Wr=n(271),zr=n.n(Wr),Mr=Object(d.a)((function(e){return{questionName:{display:"flex",flexGrow:0,backgroundColor:e.widget.primary.main,color:"white"},grid:{display:"flex",direction:"column",wrap:"nowrap",flexGrow:1},title:{backgroundColor:e.widget.tertiary.main,color:"white",textAlign:"center",fontWeight:"fontWeightBold"}}})),Dr=Object(h.a)((function(e){var t=Object(l.g)(),n=Mr(),c=e.questionStore,s=Object(a.useState)(null),o=Object(N.a)(s,2),u=o[0],d=o[1],j=Object(a.useState)(""),b=Object(N.a)(j,2),p=b[0],m=b[1];if(c.isLoading||!c.questionGroups)return Object(r.jsx)(A.a,{});var h=function(e,t){var n=0,r=0;return c.questionGroups[0].questionGroupAttempts.forEach((function(a){a.isCompleted&&a.questionAttempts.forEach((function(a){a.questionId===e&&a.content.forEach((function(e){r+=1,e===t&&(n+=1)}))}))})),Math.round(n/r*100)},f=function(e){var t=[];return c.questionGroups[0].questionGroupAttempts.forEach((function(n){n.questionAttempts.forEach((function(n){n.questionId===e&&t.push({id:n.id,studentName:n.studentName,answer:n.answer,studentId:n.studentId})}))})),t},O=function(e,t){var n=[];return c.questionGroups[0].questionGroupAttempts.forEach((function(r){r.questionAttempts.forEach((function(r){r.questionId===e&&r.answer===t.answer&&n.push({id:r.id,studentName:r.studentName,answer:r.answer,studentId:r.studentId})}))})),n},x=function(e){var t=[];return c.questionGroups[0].questions.forEach((function(n){n.id===e&&n.data.options.forEach((function(e){t.push({answer:e.value})}))})),t},g=function(e){return t.push("/dashboard/students/".concat(e.row.studentId))},v=function(e,t){m(t)},w=function(e,t){d(t)},y=c.questionGroups[0].questions[0].type,k=c.questionGroups[0].name,C={open:"Open",clickTheRightWords:"Selecteer het correcte antwoord",multipleChoice:"Meerkeuze",divideTheWord:"Verdeel het woord",combineAndFillInTheBlanks:"Combineer en vul in"}[y]||y,S=[{field:"studentName",headerName:"Naam",flex:1,valueGetter:function(e){return e.row.studentName}},{field:"answer",headerName:"Antwoord",flex:1,valueGetter:function(e){return e.row.answer}}];return Object(r.jsxs)(I.a,{container:!0,spacing:2,children:[Object(r.jsx)(I.a,{item:!0,xs:12,md:12,children:Object(r.jsx)(_r,{name:k,label:C})}),Object(r.jsx)(I.a,{item:!0,xs:12,md:12,children:c.questionGroups[0].questions.map((function(e,t){return Object(r.jsxs)(dn.a,{defaultExpanded:!0,children:[Object(r.jsx)(jn.a,{expandIcon:Object(r.jsx)(mn.a,{}),className:n.questionName,children:Object(r.jsx)(R.a,{style:{marginLeft:"45%"},children:"Vraag "+parseInt(t+1)},t)}),Object(r.jsx)(bn.a,{children:Object(r.jsxs)(I.a,{container:!0,spacing:1,children:[Object(r.jsx)(I.a,{item:!0,xs:12,md:12,children:Object(r.jsx)(R.a,{children:e.instruction},t)}),Object(r.jsx)(I.a,{item:!0,xs:6,md:3,children:Object(r.jsx)(lt.a,{children:e.data.options.map((function(n,a){return Object(r.jsxs)(jt.a,{children:[Object(r.jsx)(yt.a,{children:Object(r.jsx)(zr.a,{})}),Object(r.jsx)(bt.a,{primary:Object(r.jsx)(Br,{answer:n.value,correct:n.isCorrect})},t),Object(r.jsx)(pt.a,{children:Object(r.jsxs)(R.a,{style:{color:"grey"},children:[h(e.id,a),"%"]})})]},a)}))})}),Object(r.jsx)(We.a,{style:{margin:"1rem 0",width:"100%"}}),Object(r.jsx)(I.a,{item:!0,xs:12,md:12,children:Object(r.jsxs)(I.a,{item:!0,xs:12,md:12,children:[Object(r.jsx)(R.a,{className:n.title,children:"Filter op antoord :"}),Object(r.jsx)(dt.a,{value:u,onChange:w,inputValue:p,onInputChange:v,options:x(e.id),getOptionLabel:function(e){return e.answer},renderInput:function(e){return Object(r.jsx)(ze.a,Object(i.a)(Object(i.a)({},e),{},{variant:"outlined"}))}})]})}),Object(r.jsx)(I.a,{item:!0,xs:12,md:12,children:Object(r.jsx)(G.a,{autoHeight:!0,rows:u?O(e.id,u):f(e.id),columns:S,pageSize:12,onRowClick:g})})]})})]},e.id)}))})]})})),Fr=function(e){var t=e.questionStore;if(!t.questionGroups)return null;var n=t.questionGroups[0].questions[0].type;switch(n){case"multipleChoice":return Object(r.jsx)(Dr,Object(i.a)({},e));default:return Object(r.jsx)("p",{children:"Er is iets fout gegaan, ".concat(n," wordt niet herkend als vraag type")})}},Qr=function(e){var t=Object(l.g)(),n=Object(l.i)(),c=Object(l.h)(),s=e.questionStore,o=e.crumbs,u=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadQuestionGroupsWithAttempts([n.questionGroupId]);case 2:case"end":return e.stop()}}),e)}))),[s,n.questionGroupId]);Object(a.useEffect)((function(){u()}),[u]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(He.a,{position:"static",children:Object(r.jsxs)(Ve.a,{value:n.questionGroupTab,onChange:function(e,r){var a=n.questionGroupTab,s=c.pathname.replace(a,r);t.push(s)},children:[Object(r.jsx)(Pe.a,{label:"Inzicht (opdracht)",icon:Object(r.jsx)(Xe.a,{}),value:"question_group_insights"}),Object(r.jsx)(Pe.a,{label:"Opdracht",icon:Object(r.jsx)($n.a,{}),value:"question_group_questions"}),Object(r.jsx)(Pe.a,{label:"Antwoorden",icon:Object(r.jsx)(Lr.a,{}),value:"question_group_answers"})]})}),Object(r.jsxs)(ge,{maxWidth:"lg",children:[Object(r.jsx)(Et,{crumbs:o}),Object(r.jsx)(Tt,{index:"question_group_questions",value:n.questionGroupTab,children:Object(r.jsx)(Ar,Object(i.a)({},e))}),Object(r.jsx)(Tt,{index:"question_group_insights",value:n.questionGroupTab,children:Object(r.jsx)(er,Object(i.a)({},e))}),Object(r.jsx)(Tt,{index:"question_group_answers",value:n.questionGroupTab,children:Object(r.jsx)(Fr,Object(i.a)({},e))})]})]})},Hr=[{field:"name",headerName:"Naam",flex:.25},{field:"classes",headerName:"Klas",flex:.75,valueGetter:function(e){return e.row.classes[0].name}}],Vr=Object(d.a)((function(e){return{container:{padding:e.spacing(4,12,4,12)},datagrid:{marginTop:"1rem","& .MuiDataGrid-row:hover":{cursor:"pointer"}}}})),Pr=[{exact:!0,path:"/dashboard/home",Component:Le,name:"Home"},{exact:!0,path:"/dashboard/profile",Component:Qe,name:"Profile"},{exact:!0,path:"/dashboard/classes/:classId/:classTab",Component:Bt,name:"Klas"},{exact:!0,path:"/dashboard/classes/:classId/:classTab/lessons/:lessonId/:lessonTab",Component:ln,name:"Les"},{exact:!0,path:"/dashboard/students/:studentId",Component:zn,name:"Leerling"},{exact:!0,path:"/dashboard/students/:studentId/lessons/:lessonId",Component:Vn,name:"Les Inzicht"},{exact:!0,path:"/dashboard/classes/:classId/:classTab/lessons/:lessonId/:lessonTab/questionGroups/:questionGroupId/:questionGroupTab",Component:Qr,name:"Opdracht"},{exact:!0,path:"/dashboard/students",Component:Object(h.a)((function(){var e=Vr(),t=Object(l.g)(),n=Object(a.useState)(!1),c=Object(N.a)(n,2),s=c[0],o=c[1],u=Object(a.useState)([]),d=Object(N.a)(u,2),j=d[0],b=d[1],p=Object(a.useState)(null),m=Object(N.a)(p,2),h=m[0],f=m[1],O=Object(a.useState)(""),x=Object(N.a)(O,2),g=x[0],v=x[1],w=function(){var e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,fe.loadStudents();case 3:if(t=e.sent,o(!1),t){e.next=7;break}return e.abrupt("return");case 7:b(t.body.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=h?[h]:j;Object(a.useEffect)((function(){w()}),[]);return s?Object(r.jsx)(A.a,{}):Object(r.jsxs)("div",{className:e.container,children:[Object(r.jsx)(dt.a,{value:h,onChange:function(e,t){f(t)},inputValue:g,onInputChange:function(e,t){v(t)},options:j,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(r.jsx)(ze.a,Object(i.a)(Object(i.a)({},e),{},{label:"Leerling zoeken",variant:"outlined"}))}}),Object(r.jsx)(I.a,{container:!0,spacing:2,children:Object(r.jsx)(I.a,{item:!0,xs:12,children:Object(r.jsx)(q.a,{children:Object(r.jsx)(G.a,{className:e.datagrid,autoHeight:!0,rows:y,columns:Hr,pageSize:24,onRowClick:function(e){return t.push("/dashboard/students/".concat(e.row.id))},components:{ColumnMenuIcon:function(){return null}}})})})})]})})),name:"Leerlingen"}],$r=n(562),Jr=n(277),Kr=n.n(Jr),Ur=n(274),Yr=n.n(Ur),Xr=n(275),Zr=n.n(Xr),ea=n(276),ta=n.n(ea),na=n(168),ra=n.n(na),aa=n(278),ca=n.n(aa),sa=n(580),oa=n(563),ia=n(567),ua=n(565),la=n(566),da=n(564),ja=n(561),ba=Object(d.a)((function(e){return{root:{width:245,color:e.palette.text.secondary,"&:hover > $content":{backgroundColor:e.palette.action.hover},"&:focus > $content, &$selected > $content":{backgroundColor:"var(--tree-view-bg-color, ".concat(e.palette.grey[400],")"),color:"var(--tree-view-color)"},"&:focus > $content $label, &:hover > $content $label, &$selected > $content $label":{backgroundColor:"transparent"}},content:{color:e.palette.text.secondary,paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"$expanded > &":{fontWeight:e.typography.fontWeightRegular}},group:{marginLeft:0,"& $content":{paddingLeft:e.spacing(2)}},expanded:{},selected:{},label:{fontWeight:"inherit",color:"inherit"},labelRoot:{display:"flex",alignItems:"center",padding:e.spacing(.5,0)},labelIcon:{marginRight:e.spacing(1)},labelText:{fontWeight:"inherit",flexGrow:1}}})),pa=function(e){var t=ba(),n=e.labelText,a=e.labelIcon,c=e.labelInfo,s=e.color,o=e.bgColor,u=Object(w.a)(e,["labelText","labelIcon","labelInfo","color","bgColor"]);return Object(r.jsx)(ja.a,Object(i.a)({label:Object(r.jsxs)("div",{className:t.labelRoot,children:[a&&Object(r.jsx)(a,{color:"inherit",className:t.labelIcon}),Object(r.jsx)(R.a,{variant:"h6",className:t.labelText,children:n}),Object(r.jsx)(R.a,{variant:"caption",color:"inherit",children:c})]}),style:{"--tree-view-color":s,"--tree-view-bg-color":o},classes:{root:t.root,content:t.content,expanded:t.expanded,selected:t.selected,group:t.group,label:t.label}},u))},ma=Object(d.a)((function(){return{drawer:{marginRight:245},logoutButton:{position:"absolute",bottom:0}}})),ha=function(e){var t=e.authStore,n=ma(),c=Object(l.g)(),s=Object(a.useState)([]),o=Object(N.a)(s,2),i=o[0],u=o[1],d=Object(a.useState)(!1),j=Object(N.a)(d,2),b=j[0],p=j[1],m=Object(a.useState)(!1),h=Object(N.a)(m,2),f=h[0],O=h[1],x=function(){var e=Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,fe.loadClasses();case 3:(t=e.sent)&&u(t.body.data),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){x()}),[]);var g=function(){O(!0)},v=function(){O(!1)};return Object(r.jsxs)(sa.a,{variant:"permanent",className:n.drawer,children:[Object(r.jsxs)($r.a,{defaultExpanded:["/dashboard/classes"],defaultCollapseIcon:Object(r.jsx)(Yr.a,{}),defaultExpandIcon:Object(r.jsx)(Zr.a,{}),defaultEndIcon:Object(r.jsx)("div",{style:{width:24}}),onNodeSelect:function(e,t){switch(t){case"/":g();break;case"/dashboard/classes":break;default:c.push(t)}},children:[Object(r.jsx)("div",{style:{marginTop:"64px",padding:0}}),Object(r.jsx)(We.a,{}),Object(r.jsx)(pa,{nodeId:"/dashboard/home",labelText:"Overzicht",labelIcon:ta.a}),Object(r.jsx)(pa,{nodeId:"/dashboard/classes",labelText:"Klassen",labelIcon:ra.a,children:b?null:i.map((function(e){return Object(r.jsx)(pa,{nodeId:"/dashboard/classes/".concat(e.id,"/class_insights"),labelText:e.name,color:"#1a73e8",bgColor:"#e8f0fe"},e.id)}))}),Object(r.jsx)(pa,{nodeId:"/dashboard/students",labelText:"Leerlingen",labelIcon:Kr.a}),Object(r.jsx)(pa,{nodeId:"/",labelText:"Uitloggen",labelIcon:ca.a,className:n.logoutButton})]}),Object(r.jsxs)(oa.a,{open:f,onClose:v,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(da.a,{id:"form-dialog-title",children:"Uitloggen"}),Object(r.jsx)(ua.a,{children:Object(r.jsx)(la.a,{children:"Weet je zeker dat je wilt uitloggen?"})}),Object(r.jsxs)(ia.a,{children:[Object(r.jsx)(rn.a,{onClick:v,color:"primary",children:"Annuleren"}),Object(r.jsx)(rn.a,{onClick:function(){t.logout(),X.disconnect(),c.push("/"),t.setSuccess("Succesvol uitgelogd!")},color:"primary",children:"Uitloggen"})]})]})]})},fa=n(539),Oa=n(9),xa=n(256),ga=n(100),va=n(279),wa=n.n(va),ya=n(206),ka=Object(Oa.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return Object(r.jsx)(xa.a,Object(i.a)({getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e))})),Ca=Object(Oa.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(ga.a),Na=Object(h.a)((function(e){var t=e.notificationStore,n=c.a.useState(null),s=Object(N.a)(n,2),o=s[0],i=s[1],u=Object(a.useState)(null),d=Object(N.a)(u,2),j=d[0],b=d[1],p=Object(a.useState)(!1),m=Object(N.a)(p,2),h=m[0],f=m[1],O=Object(l.g)(),x=Object(a.useCallback)(Object(C.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,fe.loadClasses();case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return");case 6:b(t.body.data),f(!1);case 8:case"end":return e.stop()}}),e)}))),[]);Object(a.useEffect)((function(){x()}),[x]);var g=function(){i(null)};return h||!j?Object(r.jsx)(A.a,{}):Object(r.jsxs)(I.a,{container:!0,children:[Object(r.jsx)(I.a,{item:!0,children:Object(r.jsx)(mt.a,{color:"inherit",onClick:function(e){i(e.currentTarget)},children:Object(r.jsx)(ya.a,{badgeContent:t.notifications.length,color:"secondary",children:Object(r.jsx)(wa.a,{})})})}),Object(r.jsx)(ka,{anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:g,children:t.notifications.length?t.notifications.map((function(e){return Object(r.jsxs)(Ca,{onClick:function(){return function(e){t.deleteNotification(e.index),O.push(e.path)}(e)},children:[Object(r.jsx)(yt.a,{children:Object(r.jsx)(ra.a,{fontSize:"small"})}),Object(r.jsx)(bt.a,{primary:e.value})]},e.id)})):Object(r.jsx)(Ca,{onClick:g,children:Object(r.jsx)(bt.a,{primary:"Geen notificaties!"})})})]})})),Sa=n(280),Ia=n.n(Sa),qa=n(281),Aa=n.n(qa),Ga=Object(d.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:245,width:"calc(100% - ".concat(245,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},title:{flexGrow:1},icons:{display:"flex"}}})),La=function(e){var t=Ga(),n=Object(l.g)();return Object(r.jsx)(He.a,{position:"absolute",className:Object(Mt.a)(t.appBar,t.appBarShift),children:Object(r.jsxs)(fa.a,{className:t.toolbar,children:[Object(r.jsx)(mt.a,{onClick:function(){return n.goBack()},children:Object(r.jsx)(Ia.a,{style:{color:"white"}})}),Object(r.jsx)(R.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title}),Object(r.jsxs)("div",{className:t.icons,children:[Object(r.jsx)(Na,Object(i.a)({},e)),Object(r.jsx)(mt.a,{color:"inherit",onClick:function(){return n.push("/dashboard/profile")},children:Object(r.jsx)(Aa.a,{})})]})]})})},Ta=Object(d.a)((function(e){return{appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"}}})),_a=function(e){var t=e.authStore,n=e.lessonStore,a=e.questionStore,c=e.notificationStore,s=e.studentStore,o=Ta();return Object(r.jsx)(l.d,{children:Pr.map((function(e){var u=e.exact,d=e.path,j=e.name,b=e.Component;return Object(r.jsx)(l.b,{exact:u,path:d,render:function(e){var u=Pr.filter((function(t){var n=t.path;return e.match.path.includes(n)})).map((function(t){var n=t.path,r=Object(w.a)(t,["path"]);return Object(i.a)({path:Object.keys(e.match.params).length?Object.keys(e.match.params).reduce((function(t,n){return t.replace(":".concat(n),e.match.params[n])}),n):n},r)}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(La,Object(i.a)({notificationStore:c},e)),Object(r.jsx)(ha,{authStore:t}),Object(r.jsxs)("main",{className:o.content,children:[Object(r.jsx)("div",{className:o.appBarSpacer}),Object(r.jsx)(b,Object(i.a)({authStore:t,lessonStore:n,questionStore:a,notificationStore:c,studentStore:s,crumbs:u},e))]})]})},name:j},d)}))})},Ea=n(288),Ra=n(282),Ba=n.n(Ra),Wa=n.p+"static/media/loginBanner.8df90453.jpg",za=function(){return Object(r.jsxs)(R.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(r.jsx)(_e.a,{color:"inherit",href:"https://material-ui.com/",children:"Wordfactory"})," ",(new Date).getFullYear(),"."]})},Ma=Object(d.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(Wa,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Da=Object(h.a)((function(e){var t=e.authStore,n=Ma(),c=Object(l.g)(),s=Object(a.useState)(""),o=Object(N.a)(s,2),i=o[0],u=o[1],d=Object(a.useState)(""),j=Object(N.a)(d,2),b=j[0],p=j[1],m=Object(a.useState)(!1),h=Object(N.a)(m,2),f=h[0],O=h[1],x=function(){var e=Object(C.a)(k.a.mark((function e(n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),n.preventDefault(),e.next=4,t.login(i,b);case 4:r=e.sent,O(!1),r&&c.push("/dashboard/home");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(I.a,{container:!0,component:"main",className:n.root,children:[Object(r.jsx)(I.a,{item:!0,xs:!1,sm:4,md:7,className:n.image}),Object(r.jsx)(I.a,{item:!0,xs:12,sm:8,md:5,component:q.a,elevation:6,square:!0,children:Object(r.jsxs)("div",{className:n.paper,children:[Object(r.jsx)(Te.a,{className:n.avatar,children:Object(r.jsx)(Ba.a,{})}),Object(r.jsx)(R.a,{component:"h1",variant:"h5",children:"Log in"}),Object(r.jsxs)("form",{className:n.form,noValidate:!0,children:[Object(r.jsx)(ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Adres",name:"email",autoComplete:"email",autoFocus:!0,value:i,onChange:function(e){return u(e.target.value)}}),Object(r.jsx)(ze.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Wachtwoord",type:"password",id:"password",autoComplete:"current-password",value:b,onChange:function(e){return p(e.target.value)}}),Object(r.jsx)(ar.a,{control:Object(r.jsx)(Ea.a,{value:"remember",color:"primary"}),label:"Herinner mij"}),Object(r.jsx)(rn.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,disabled:f,onClick:x,children:"Inloggen"}),Object(r.jsxs)(I.a,{container:!0,children:[Object(r.jsx)(I.a,{item:!0,xs:!0,children:Object(r.jsx)(_e.a,{href:"#",variant:"body2",children:"Wachtwoord vergeten?"})}),Object(r.jsx)(I.a,{item:!0,children:Object(r.jsx)(_e.a,{href:"#",variant:"body2",children:"Geen account? Registreer hier."})})]}),Object(r.jsx)(nt.a,{mt:5,children:Object(r.jsx)(za,{})})]})]})})]})})),Fa=new(function(){function e(){var t=this;Object(M.a)(this,e),this.questionAttempts=[],this.questionGroups=null,this.loading=0,this.popLoad=function(){return t.loading-=1},this.pushLoad=function(){return t.loading+=1},this.loadQuestionGroupsWithAttempts=function(){var e=Object(C.a)(k.a.mark((function e(n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pushLoad(),e.next=3,fe.loadQuestionGroups(n);case 3:(r=e.sent)&&(a=r.body.data).forEach((function(e){P.addQuestionGroupAttemptStats(e),P.addQuestionAttemptInformation(e),t.questionGroups=a})),t.popLoad();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.loadQuestionAttemptsWithInfo=function(){var e=Object(C.a)(k.a.mark((function e(n,r){var a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pushLoad(),e.next=3,fe.loadQuestionAttempts({studentId:n,lessonId:r});case 3:(a=e.sent)&&(c=a.body.data,c=P.addInformation(c),t.questionAttempts=c),t.popLoad();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Object(D.f)(this,{questionAttempts:D.g,questionGroups:D.g,loading:D.g,popLoad:D.b,pushLoad:D.b,isLoading:D.c})}return Object(V.a)(e,[{key:"isLoading",get:function(){return this.loading>0}}]),e}()),Qa=n(200),Ha=n.n(Qa),Va=new(function(){function e(){var t=this;Object(M.a)(this,e),this.students=null,this.topResults=[],this.bottomResults=[],this.popLoad=function(){return t.loading-=1},this.pushLoad=function(){return t.loading+=1},this.setTopResults=function(e){return t.topResults=e},this.setBottomResults=function(e){return t.bottomResults=e},this.loadStudents=function(){var e=Object(C.a)(k.a.mark((function e(n){var r,a,c,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pushLoad(),e.next=3,fe.loadStudents(n);case 3:(r=e.sent)&&(t.students=r.body.data),a=t.computeDistribution(t.students).sort((function(e,t){return e.correctness-t.correctness})),c=Math.round(.25*a.length),s=a.slice(0,c),o=a.slice(Math.max(a.length-c,0)),t.setBottomResults(s),t.setTopResults(o),t.updateBottomStudents(s),t.popLoad();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.computeDistribution=function(e){var t=[];return e.forEach((function(e){var n={correct:0,incorrect:0,missed:0};e.lessonAttempts.forEach((function(e){var t=e.questionGroupAttempts.reduce((function(e,t){return{correct:e.correct+t.correct,incorrect:e.incorrect+t.incorrect,missed:e.missed+t.missed}}),{correct:0,incorrect:0,missed:0});n=Ha.a.mergeWith({},n,t,(function(e,t){return Ha.a.isNumber(e)?e+t:t}))}));var r=n.correct+n.incorrect+n.missed,a=n.correct/r;t.push({name:e.name,id:e.id,correctness:Math.round(100*(a||0))})})),t},this.updateBottomStudents=function(e){t.students=t.students.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{bottom:e.some((function(e){return t.id===e.id}))})})).sort((function(e,t){return t.bottom-e.bottom}))},Object(D.f)(this,{topResults:D.g,students:D.g,bottomResults:D.g,loadStudents:D.b,setTopResults:D.b,setBottomResults:D.b,popLoad:D.b,pushLoad:D.b,isLoading:D.c})}return Object(V.a)(e,[{key:"isLoading",get:function(){return this.loading>0}}]),e}());f.defaults.global.plugins.colorschemes.scheme=O.a,x();var Pa=Object(d.a)((function(e){return{root:{display:"flex"}}})),$a=function(e){return Object(r.jsx)(m.a,Object(i.a)({elevation:6,variant:"filled"},e))},Ja=Object(h.a)((function(e){var t=e.authStore;return Object(r.jsx)(p.a,{open:!!t.error,children:Object(r.jsx)($a,{severity:"warning",children:t.error})})})),Ka=Object(h.a)((function(e){var t=e.authStore;return Object(r.jsx)(p.a,{open:!!t.success,children:Object(r.jsx)($a,{severity:"success",children:t.success})})})),Ua=function(){return Object(r.jsx)(Da,{authStore:Z})},Ya=function(){var e=Pa();return Object(r.jsx)(j.a,{theme:v,children:Object(r.jsxs)("div",{className:e.root,children:[Object(r.jsxs)(u.a,{children:[Object(r.jsx)(b.a,{}),Object(r.jsxs)(l.d,{children:[Object(r.jsx)(l.b,{path:"/",exact:!0,component:Ua}),Object(r.jsx)(l.b,{path:"/dashboard",component:function(e){return Object(r.jsx)(_a,Object(i.a)({authStore:Z,lessonStore:$,questionStore:Fa,notificationStore:J,studentStore:Va},e))}})]})]}),Object(r.jsx)(Ja,{authStore:Z}),Object(r.jsx)(Ka,{authStore:Z})]})})};o.a.render(Object(r.jsx)(Ya,{}),document.getElementById("root"))}},[[471,1,2]]]);
//# sourceMappingURL=main.3afb87c5.chunk.js.map